<!DOCTYPE html>
<!-- saved from url=(0095)https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm -->
<html lang="en" class="js-focus-visible" data-js-focus-visible=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>Many-to-Many relationship in MongoDB . Nodejs | Express | Mongoose - DEV Community</title>
      <meta name="last-updated" content="2021-06-29 05:31:22 UTC">
      <meta name="user-signed-in" content="false">
      <meta name="head-cached-at" content="1624944682">
        <!-- Experimental web monetization payment pointer for micropayments -->
        <!-- It lets readers make micropayments to websites they visit. -->
        <!-- This is step 1: Get live in production to test for platform-wide payment pointer. -->
        <!-- Step 2: Allow authors to set their payment pointer so they can directly monetize their content based on visitors. -->
        <!-- Step 3: Enable further functionality based on what we learn from this experimentation and how the ecosystem evolves. -->
        <meta name="monetization" content="$ilp.uphold.com/24HhrUGG7ekn">
      <meta name="environment" content="production">
      <link rel="stylesheet" media="all" href="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/minimal-0b841ab3a60bd0e9f320c9b504d43494a1fd43a65a9cf0bf275d5d01bf35d465.css" id="main-minimal-stylesheet">
<link rel="stylesheet" media="all" href="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/views-f79722b9dc450af7606743a3b1940be97bf007ce4b05ff81a51b35c25a74ab9f.css" id="main-views-stylesheet">
<link rel="stylesheet" media="all" href="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/crayons-107b6803f42f9ecded114635c0f6941a825991e390716185c6764717f2e3dcb8.css" id="main-crayons-stylesheet">

        <script async="" src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/analytics.js.download"></script><script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/runtime_base-d588ed48981df9abf63b.js.download" defer="defer"></script>
<script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/base-15447526a93f0ac10b7f.chunk.js.download" defer="defer"></script>
<script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/runtime_Search-0bea9f4178da612b8374.js.download" defer="defer"></script>
<script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/vendors_Search-c793da10d8257e8f52c0.chunk.js.download" defer="defer"></script>
<script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/Search-dd765e67ff31b2f57f68.chunk.js.download" defer="defer"></script>
      <script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/base-ad3cba487c76111b4368e2b0614e6f1d0d1e3bf11f12961ad5a2f419c8664be0.js.download" defer="defer"></script>
      
    <link rel="canonical" href="https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm">
    <meta name="description" content="Recently I was working on a project (Node, Express, MongoDB, Mongoose) where I needed to create many-... Tagged with mongodb, node, database, webdev.">
    <meta name="keywords" content="mongodb, node, database, webdev, software, coding, development, engineering, inclusive, community">

    <meta property="og:type" content="article">
    <meta property="og:url" content="https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm">
    <meta property="og:title" content="Many-to-Many relationship in MongoDB . Nodejs | Express | Mongoose">
    <meta property="og:description" content="Recently I was working on a project (Node, Express, MongoDB, Mongoose) where I needed to create many-...">
    <meta property="og:site_name" content="DEV Community">
    <meta name="twitter:site" content="@thepracticaldev">
    <meta name="twitter:creator" content="@">
    <meta name="twitter:title" content="Many-to-Many relationship in MongoDB . Nodejs | Express | Mongoose">
    <meta name="twitter:description" content="Recently I was working on a project (Node, Express, MongoDB, Mongoose) where I needed to create many-...">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:widgets:new-embed-design" content="on">
    <meta name="robots" content="max-snippet:-1, max-image-preview:large, max-video-preview:-1">
      <meta property="og:image" content="https://res.cloudinary.com/practicaldev/image/fetch/s--A7WbLpSA--/c_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6babhtod2d6dgz58nu0k.png">
      <meta name="twitter:image:src" content="https://res.cloudinary.com/practicaldev/image/fetch/s--A7WbLpSA--/c_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6babhtod2d6dgz58nu0k.png">

      <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
      <link rel="shortcut icon" type="image/x-icon" href="https://res.cloudinary.com/practicaldev/image/fetch/s--E8ak4Hr1--/c_limit,f_auto,fl_progressive,q_auto,w_32/https://dev-to.s3.us-east-2.amazonaws.com/favicon.ico">
      <link rel="apple-touch-icon" href="https://res.cloudinary.com/practicaldev/image/fetch/s--gDM0_LTS--/c_limit,f_png,fl_progressive,q_80,w_180/https://practicaldev-herokuapp-com.freetls.fastly.net/assets/devlogo-pwa-512.png">
      <link rel="apple-touch-icon" sizes="152x152" href="https://res.cloudinary.com/practicaldev/image/fetch/s--l0c3Kmql--/c_limit,f_png,fl_progressive,q_80,w_152/https://practicaldev-herokuapp-com.freetls.fastly.net/assets/devlogo-pwa-512.png">
      <link rel="apple-touch-icon" sizes="180x180" href="https://res.cloudinary.com/practicaldev/image/fetch/s--gDM0_LTS--/c_limit,f_png,fl_progressive,q_80,w_180/https://practicaldev-herokuapp-com.freetls.fastly.net/assets/devlogo-pwa-512.png">
      <link rel="apple-touch-icon" sizes="167x167" href="https://res.cloudinary.com/practicaldev/image/fetch/s--2ecYCSjC--/c_limit,f_png,fl_progressive,q_80,w_167/https://practicaldev-herokuapp-com.freetls.fastly.net/assets/devlogo-pwa-512.png">
      <link href="https://res.cloudinary.com/practicaldev/image/fetch/s--t7tVouP9--/c_limit,f_png,fl_progressive,q_80,w_192/https://practicaldev-herokuapp-com.freetls.fastly.net/assets/devlogo-pwa-512.png" rel="icon" sizes="192x192">
      <link href="https://res.cloudinary.com/practicaldev/image/fetch/s--lrmEcD2H--/c_limit,f_png,fl_progressive,q_80,w_128/https://practicaldev-herokuapp-com.freetls.fastly.net/assets/devlogo-pwa-512.png" rel="icon" sizes="128x128">
      <meta name="apple-mobile-web-app-title" content="dev.to">
      <meta name="application-name" content="dev.to">
      <meta name="theme-color" content="#000000">
      <link rel="search" href="https://dev.to/open-search.xml" type="application/opensearchdescription+xml" title="DEV Community">

      <meta property="forem:name" content="DEV Community">
      <meta property="forem:logo" content="https://res.cloudinary.com/practicaldev/image/fetch/s--PFPhV65b--/c_limit,f_png,fl_progressive,q_80,w_512/https://practicaldev-herokuapp-com.freetls.fastly.net/assets/devlogo-pwa-512.png">
      <meta property="forem:domain" content="dev.to">
  <script charset="utf-8" src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/108-372ceefa08332bfa929c.chunk.js.download"></script><meta name="csrf-param" content="authenticity_token"><meta name="csrf-token" content="hC71IO+rxQg0UjfA+/4amUuMHOlCjmUxoer1lJ6Y0Ducr1EPzSJ7pdvfGqX8Pr8DkFi2GDFGKorw6H/r10+33g=="><script charset="utf-8" src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/104-bb41f808a96039cf1c94.chunk.js.download"></script></head>
      <body data-user-status="logged-out" class="sans-serif-article-body default-header" data-pusher-key="ef46a9ae106e4241008c" data-app-domain="ZGV2LnRv" data-honeybadger-key="a45862f6" data-deployed-at="2021-06-28T18:31:55Z" data-latest-commit-id="ffe31cd5aad3aa67daf3ff7ad4f415c062b4eb28" data-ga-tracking="UA-71991109-1" data-runtime="Browser-Windows" data-loaded="true">
        <link rel="stylesheet" media="all" href="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/minimal-0b841ab3a60bd0e9f320c9b504d43494a1fd43a65a9cf0bf275d5d01bf35d465.css" id="secondary-minimal-stylesheet">
<link rel="stylesheet" media="all" href="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/views-f79722b9dc450af7606743a3b1940be97bf007ce4b05ff81a51b35c25a74ab9f.css" id="secondary-views-stylesheet">
<link rel="stylesheet" media="all" href="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/crayons-107b6803f42f9ecded114635c0f6941a825991e390716185c6764717f2e3dcb8.css" id="secondary-crayons-stylesheet">

        <div id="body-styles">
          <style>
            :root {
              --accent-brand: #3b49df;
              --accent-brand-darker: #323ebe;
              --accent-brand-lighter: #4150f5;
              --accent-brand-a10: rgba(59, 73, 223, 0.10);
            }
          </style>
        </div>
        <div id="audiocontent" data-podcast="">
          
        </div>
        <div class="navigation-progress" id="navigation-progress"></div>
<header class="crayons-header print-hidden">
  <a href="https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm#main-content" class="skip-content-link">Skip to content</a>
  <div class="crayons-header__container">
    <button class="crayons-btn crayons-btn--ghost crayons-btn--icon-rounded js-hamburger-trigger inline-block m:hidden mx-2">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" role="img" aria-labelledby="a1lwaipschfd85cx2wme1kiz6gw7r0lz" class="crayons-icon"><title id="a1lwaipschfd85cx2wme1kiz6gw7r0lz">Navigation menu</title>
    <path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"></path>
</svg>

    </button>
    <a href="https://dev.to/" class="site-logo" aria-label="DEV Community Home">
    <svg width="50" height="40" viewBox="0 0 50 40" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="50" height="40" rx="3" style="fill: currentColor;"></rect><path d="M19.099 23.508c0 1.31-.423 2.388-1.27 3.234-.838.839-1.942 1.258-3.312 1.258h-4.403V12.277h4.492c1.31 0 2.385.423 3.224 1.27.846.838 1.269 1.912 1.269 3.223v6.738zm-2.808 0V16.77c0-.562-.187-.981-.562-1.258-.374-.285-.748-.427-1.122-.427h-1.685v10.107h1.684c.375 0 .75-.138 1.123-.415.375-.285.562-.708.562-1.27zM28.185 28h-5.896c-.562 0-1.03-.187-1.404-.561-.375-.375-.562-.843-.562-1.404V14.243c0-.562.187-1.03.562-1.404.374-.375.842-.562 1.404-.562h5.896v2.808H23.13v3.65h3.088v2.808h-3.088v3.65h5.054V28zm7.12 0c-.936 0-1.684-.655-2.246-1.965l-3.65-13.758h3.089l2.807 10.804 2.808-10.804H41.2l-3.65 13.758C36.99 27.345 36.241 28 35.305 28z" style="fill: var(--base-inverted);"></path></svg>
</a>


    <div id="pwa-nav-buttons" class="pwa-nav-buttons">
      <button type="button" id="app-back-button">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 306 306" role="img" aria-labelledby="ahjgbslowvr0pphwc75hx6evqrtjfhb1" class="crayons-icon"><title id="ahjgbslowvr0pphwc75hx6evqrtjfhb1">Back</title>
    <path d="M247.35 35.7L211.65 0l-153 153 153 153 35.7-35.7L130.05 153z"></path>
</svg>

      </button>
      <button type="button" id="app-forward-button">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 306 306" role="img" aria-labelledby="a882n5gekai143niz9ocoe5z6e76hi9h" class="crayons-icon"><title id="a882n5gekai143niz9ocoe5z6e76hi9h">Forward</title>
    <path d="M94.35 0l-35.7 35.7L175.95 153 58.65 270.3l35.7 35.7 153-153z"></path>
</svg>

      </button>
      <button type="button" id="app-refresh-button">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 408 408" role="img" aria-labelledby="am0ainhmo2e8xdspki3nqbmbrayidnz6" class="crayons-icon"><title id="am0ainhmo2e8xdspki3nqbmbrayidnz6">Refresh</title>
    <path d="M346.8 61.2C311.1 22.95 260.1 0 204 0 91.8 0 0 91.8 0 204s91.8 204 204 204c94.35 0 173.4-66.3 196.35-153H346.8c-20.4 58.65-76.5 102-142.8 102-84.15 0-153-68.85-153-153S119.85 51 204 51c43.35 0 79.05 17.85 107.1 45.9l-81.6 81.6H408V0l-61.2 61.2z"></path>
</svg>

      </button>
    </div>

    <div class="crayons-header--search js-search-form" id="header-search"><form method="get" action="https://dev.to/search" accept-charset="UTF-8"><input type="hidden" id="" name="utf8" placeholder="" autocomplete="" value="âœ“"><input class="crayons-header--search-input crayons-textfield" type="text" name="q" placeholder="Search..." autocomplete="off" aria-label="search"></form>
      
    </div>

    <div class="flex items-center h-100 ml-auto">
      <a class="crayons-header__link crayons-btn crayons-btn--ghost crayons-btn--icon-rounded m:hidden mx-2" id="search-link" aria-label="Search" href="https://dev.to/search">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" role="img" aria-labelledby="a6s03ro6phsiqh3alqa28xuy35gkjkec" class="crayons-icon"><title id="a6s03ro6phsiqh3alqa28xuy35gkjkec">Search</title>
    <path d="M18.031 16.617l4.283 4.282-1.415 1.415-4.282-4.283A8.96 8.96 0 0111 20c-4.968 0-9-4.032-9-9s4.032-9 9-9 9 4.032 9 9a8.96 8.96 0 01-1.969 5.617zm-2.006-.742A6.977 6.977 0 0018 11c0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7a6.977 6.977 0 004.875-1.975l.15-.15z"></path>
</svg>

      </a>
        <a href="https://dev.to/enter" class="crayons-btn crayons-btn--ghost-brand mr-2 hidden m:block whitespace-nowrap ml-auto" data-no-instant="">
          Log in
        </a>

        <a href="https://dev.to/enter?state=new-user" class="crayons-btn mr-2 whitespace-nowrap fs-s s:fs-base" data-no-instant="">
          Create account
        </a>
    </div>
  </div>
</header>

<div class="hamburger">
  <div class="hamburger__content">
    <header class="hamburger__content__header">
      <h2 class="fs-l fw-bold flex-1 break-word lh-tight">DEV Community</h2>

      <button class="crayons-btn crayons-btn--ghost crayons-btn--icon-rounded js-hamburger-trigger shrink-0">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" role="img" aria-labelledby="a6s1mu5h60gl54nliidvng15tlyax2z3" class="crayons-icon"><title id="a6s1mu5h60gl54nliidvng15tlyax2z3">Close</title><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636l4.95 4.95z"></path></svg>

      </button>
    </header>

    <div class="p-2">
      <div class="crayons-card crayons-card--secondary p-4">
  <h2 class="fs-l fw-bold mb-2">
    <a href="https://dev.to/">DEV Community</a> is a community of 646,290 amazing developers

  </h2>
  <p class="color-base-70 mb-4">
      We're a place where coders share, stay up-to-date and grow their careers.
  </p>
  <div>
    <a href="https://dev.to/enter?state=new-user" class="crayons-btn w-100 mb-2" aria-label="Create new account">Create new account</a>
    <a href="https://dev.to/enter" class="crayons-btn crayons-btn--ghost-brand w-100" aria-label="Log in">Log in</a>
  </div>
</div>

      
<nav class="mb-6 mt-4" aria-label="Primary sidebar nav">
  <a href="https://dev.to/" class="crayons-link crayons-link--block">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24" aria-hidden="true" class="crayons-icon crayons-icon--default">
    <g class="nc-icon-wrapper">
        <path fill="#A0041E" d="M13.344 18.702h-2a.5.5 0 01-.5-.5v-7a.5.5 0 01.5-.5h2a.5.5 0 01.5.5v7a.5.5 0 01-.5.5z"></path>
        <path fill="#FFE8B6" d="M9 20L22 7l13 13v17H9z"></path>
        <path fill="#FFCC4D" d="M22 20h1v16h-1z"></path>
        <path fill="#66757F" d="M35 21a.997.997 0 01-.707-.293L22 8.414 9.707 20.707a1 1 0 11-1.414-1.414l13-13a.999.999 0 011.414 0l13 13A.999.999 0 0135 21z"></path>
        <path fill="#66757F" d="M22 21a.999.999 0 01-.707-1.707l6.5-6.5a1 1 0 111.414 1.414l-6.5 6.5A.997.997 0 0122 21z"></path>
        <path fill="#C1694F" d="M14 30h4v6h-4z"></path>
        <path fill="#55ACEE" d="M14 21h4v4h-4zm12.5 0h4v4h-4zm0 9h4v4h-4z"></path>
        <path fill="#5C913B" d="M37.5 37.5A1.5 1.5 0 0136 39H8a1.5 1.5 0 010-3h28a1.5 1.5 0 011.5 1.5z"></path>
    </g>
</svg>

    Home
  </a>
    <a href="https://dev.to/enter" class="crayons-link crayons-link--block fw-bold">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24" aria-hidden="true" class="crayons-icon crayons-icon--default">
    <g class="nc-icon-wrapper">
        <path fill="#EF9645" d="M21 22s-6.031 5.274-7.74 6.832c-1.323 1.203.88 3.498 2.135 2.452 3.333-2.785 6.493-4.85 6.493-4.85l.367.526c-1.309.79-4.693 2.858-6.449 4.438-1.324 1.19.767 3.553 2.093 2.365 1.822-1.634 5.995-4.565 5.995-4.565l.368.384c-1.08.679-2.772 1.94-4.985 3.958-1.332 1.215.619 2.485 1.764 1.534 3.116-2.586 3.232-4.383 6.661-5.85C32.935 26.986 21 22 21 22z"></path>
        <path fill="#FFCC4D" d="M33.979 12.836c.881-.438 1.653.144 2.106 1.053.448.911 2.532 5.015 2.953 5.869.425.852.191 2.103-.719 2.553-.911.453-2.234 1.054-3.092 2.512-.465.794-2.396 2.887-7.629 5.129-3.427 1.462-6.165 3.938-7.261 4.8-.886.698-2.673-.637-1.343-1.85 2.214-2.02 3.906-3.281 4.985-3.958l-.368-.386s-4.381 3.056-6.238 4.65c-1.261 1.085-2.938-.953-1.613-2.142 1.757-1.58 4.902-3.954 6.211-4.744l-.366-.529s-3.43 2.231-6.765 5.02c-1.113.93-2.847-1.159-1.525-2.364 1.71-1.555 5.043-4.343 7.093-5.499l-.196-.609s-3.218 1.805-5.996 4.494c-.994.961-2.974-.818-1.525-2.293 3.462-3.522 7.958-5.609 9.154-6.413 1.606-1.08 2.451-1.754 1.606-2.133-1.274-.573-3.396-2.582-4.21-4.21-1.053-2.106.44-3.77 2.105-2.106 1.053 1.053 3.159 3.158 5.263 3.158 2.829 0 3.262 1.053 5.264 1.053 1.054-.002 2.106-1.055 2.106-1.055"></path>
        <path fill="#EF9645" d="M29.048 19.167c-.334.001-1.439-.15-2.684-.725-1.073-.494-1.905-1.39-2.597-2.142.039.161-.065.354-.283.58.681.792 1.723 1.696 2.654 2.146 1.082.525 2.315.79 2.871.767.572-.024.385-.622.039-.626zm2.167 8.58c-2.264-1.054-4.062-1.934-.974-.66 1.277.525 3.194-2.06 1.315-2.917C27.774 22.444 16 16 16 16s-6.368 7.437-5.58 7.914c.789.474 1.118 3.849 5.665 6.818 4.298 2.808 6.975 4.015 7.981 4.518 2.107 1.053 3.477-1.678 1.833-2.412-2.833-1.266-2.734-1.343 1.418.382 1.537.64 2.829-2.25 1.205-2.981-2.422-1.089-2.64-1.221 1.239.527 1.435.643 3.073-2.264 1.454-3.019z"></path>
        <path fill="#FFDC5D" d="M11.09 13.278a1.808 1.808 0 00-2.485.615c-.525.871-2.828 4.683-3.319 5.5-.492.816-.364 2.079.506 2.604.87.526 2.447 1.477 3.236 1.952.789.477 4.011 4.477 8.662 7.279 4.648 2.808 6.366 3.286 7.412 3.697 1.05.41 2.437-1.683.793-2.416-2.837-1.268-4.836-2.438-5.859-3.205l.318-.585s2.837 2.12 6.987 3.848c1.537.64 2.79-1.754 1.167-2.487-2.423-1.089-5.412-2.894-6.651-3.79l.346-.571s3.946 2.494 7.825 4.242c1.431.645 2.632-1.786 1.013-2.542-2.26-1.054-5.448-2.955-7.394-4.277l.338-.5s3.615 2.551 6.705 3.823c1.277.528 2.78-1.861.899-2.721C27.81 22.019 23.525 19 22.401 18.1c-.918-.737-1.181-2.413 1.052-3.158 3.158-1.053 4.211-3.158 4.211-4.211 0-1.489-1.376-2.146-2.104-1.053-2.107 3.158-3.166 2.082-5.263 3.158-2.514 1.291-5.466 2.662-7.179 1.628-.733-.441-2.028-1.186-2.028-1.186"></path>
        <path fill="#FFCC4D" d="M22.948 15.721l5.426-2.712a8.282 8.282 0 00-1.763-.172c-2.104 0-4.21-2.105-5.263-3.158-1.665-1.664-3.158 0-2.105 2.106.715 1.428 2.433 3.148 3.705 3.936z"></path>
    </g>
</svg>

      Sign In/Up
    </a>
  <div class="sidebar-navigation-links spec-sidebar-navigation-links">
      
        <a href="https://dev.to/listings" class="sidebar-navigation-link crayons-link crayons-link--block">
    <span class="crayons-icon crayons-icon--default">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <g class="nc-icon-wrapper">
        <path fill="#FFD983" d="M36 4H14a4 4 0 00-4 4v24H8a4 4 0 000 8h24a4 4 0 004-4V12a4 4 0 000-8z"></path>
        <path fill="#E39F3D" d="M12 14h24v-2H14l-2-1z"></path>
        <path fill="#FFE8B6" d="M14 4a4 4 0 00-4 4v24.555A3.955 3.955 0 008 32a4 4 0 104 4V11.445c.59.344 1.268.555 2 .555a4 4 0 000-8z"></path>
        <path fill="#C1694F" d="M16 8a2 2 0 11-4.001-.001A2 2 0 0116 8m-6 28a2 2 0 11-4.001-.001A2 2 0 0110 36m24-17a1 1 0 01-1 1H15a1 1 0 010-2h18a1 1 0 011 1m0 4a1 1 0 01-1 1H15a1 1 0 110-2h18a1 1 0 011 1m0 4a1 1 0 01-1 1H15a1 1 0 110-2h18a1 1 0 011 1m0 4a1 1 0 01-1 1H15a1 1 0 110-2h18a1 1 0 011 1"></path>
    </g>
</svg>

    </span>
    Listings
  </a>

        <a href="https://dev.to/pod" class="sidebar-navigation-link crayons-link crayons-link--block">
    <span class="crayons-icon crayons-icon--default">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <g class="nc-icon-wrapper">
        <path fill="#292F33" d="M10 19h24v2H10zm15 15c0 2.208-.792 4-3 4-2.209 0-3-1.792-3-4s.791-2 3-2c2.208 0 3-.208 3 2z"></path>
        <path fill="#66757F" d="M22 35c-6.627 0-10 1.343-10 3v2h20v-2c0-1.657-3.373-3-10-3z"></path>
        <path fill="#99AAB5" d="M22 4a9 9 0 00-9 9v7h18v-7a9 9 0 00-9-9z"></path>
        <g fill="#292F33" transform="translate(4 4)">
            <circle cx="15.5" cy="2.5" r="1.5"></circle>
            <circle cx="20.5" cy="2.5" r="1.5"></circle>
            <circle cx="17.5" cy="6.5" r="1.5"></circle>
            <circle cx="22.5" cy="6.5" r="1.5"></circle>
            <circle cx="12.5" cy="6.5" r="1.5"></circle>
            <circle cx="15.5" cy="10.5" r="1.5"></circle>
            <circle cx="10.5" cy="10.5" r="1.5"></circle>
            <circle cx="20.5" cy="10.5" r="1.5"></circle>
            <circle cx="25.5" cy="10.5" r="1.5"></circle>
            <circle cx="17.5" cy="14.5" r="1.5"></circle>
            <circle cx="22.5" cy="14.5" r="1.5"></circle>
            <circle cx="12.5" cy="14.5" r="1.5"></circle>
        </g>
        <path fill="#66757F" d="M13 19.062V21c0 4.971 4.029 9 9 9s9-4.029 9-9v-1.938H13z"></path>
        <path fill="#66757F" d="M34 18a1 1 0 00-1 1v2c0 6.074-4.925 11-11 11s-11-4.926-11-11v-2a1 1 0 00-2 0v2c0 7.18 5.82 13 13 13s13-5.82 13-13v-2a1 1 0 00-1-1z"></path>
    </g>
</svg>

    </span>
    Podcasts
  </a>

        <a href="https://dev.to/videos" class="sidebar-navigation-link crayons-link crayons-link--block">
    <span class="crayons-icon crayons-icon--default">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <g transform="translate(4 4)">
        <path fill="#31373D" d="M34.074 18l-4.832 3H28v-4c0-.088-.02-.169-.026-.256C31.436 15.864 34 12.735 34 9a8 8 0 00-16.001 0c0 1.463.412 2.822 1.099 4H14.92c.047-.328.08-.66.08-1a7 7 0 10-14 0 6.995 6.995 0 004 6.317V29a4 4 0 004 4h15a4 4 0 004-4v-3h1.242l4.832 3H35V18h-.926zM28.727 3.977a5.713 5.713 0 012.984 4.961L28.18 8.35a2.276 2.276 0 00-.583-.982l1.13-3.391zm-.9 6.342l3.552.592a5.713 5.713 0 01-4.214 3.669 3.985 3.985 0 00-1.392-1.148l.625-2.19a2.425 2.425 0 001.429-.923zM26 3.285c.282 0 .557.027.828.067l-1.131 3.392c-.404.054-.772.21-1.081.446L21.42 5.592A5.703 5.703 0 0126 3.285zM20.285 9c0-.563.085-1.106.236-1.62l3.194 1.597-.002.023c0 .657.313 1.245.771 1.662L23.816 13h-1.871a5.665 5.665 0 01-1.66-4zm-9.088-.385A4.64 4.64 0 0112.667 12c0 .344-.043.677-.113 1H10.1c.145-.304.233-.641.233-1a2.32 2.32 0 00-.392-1.292l1.256-2.093zM8 7.333c.519 0 1.01.105 1.476.261L8.22 9.688c-.073-.007-.145-.022-.22-.022a2.32 2.32 0 00-1.292.392L4.615 8.803A4.64 4.64 0 018 7.333zM3.333 12c0-.519.105-1.01.261-1.477l2.095 1.257c-.007.073-.022.144-.022.22 0 .75.36 1.41.91 1.837a3.987 3.987 0 00-1.353 1.895C4.083 14.881 3.333 13.533 3.333 12z"></path>
        <circle fill="#8899A6" cx="24" cy="19" r="2"></circle>
        <circle fill="#8899A6" cx="9" cy="19" r="2"></circle>
        <path fill="#8899A6" d="M24 27a2 2 0 00-2-2H11a2 2 0 00-2 2v6a2 2 0 002 2h11a2 2 0 002-2v-6z"></path>
    </g>
</svg>

    </span>
    Videos
  </a>

        <a href="https://dev.to/tags" class="sidebar-navigation-link crayons-link crayons-link--block">
    <span class="crayons-icon crayons-icon--default">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <g class="nc-icon-wrapper">
        <path fill="#FFD983" d="M36.017 24.181L21.345 9.746C20.687 9.087 19.823 9 18.96 9H8.883C7.029 9 6 10.029 6 11.883v10.082c0 .861.089 1.723.746 2.38L21.3 39.017a3.287 3.287 0 004.688 0l10.059-10.088c1.31-1.312 1.28-3.438-.03-4.748zm-23.596-8.76a1.497 1.497 0 11-2.118-2.117 1.497 1.497 0 012.118 2.117z"></path>
        <path fill="#D99E82" d="M13.952 11.772a3.66 3.66 0 00-5.179 0 3.663 3.663 0 105.18 5.18 3.664 3.664 0 00-.001-5.18zm-1.53 3.65a1.499 1.499 0 11-2.119-2.12 1.499 1.499 0 012.119 2.12z"></path>
        <path fill="#C1694F" d="M12.507 14.501a1 1 0 11-1.415-1.414l8.485-8.485a1 1 0 111.415 1.414l-8.485 8.485z"></path>
    </g>
</svg>

    </span>
    Tags
  </a>


      <a href="javascript:void(0)" class="crayons-link crayons-link--secondary crayons-link--block crayons-link--block--indented fs-s js-nav-more-trigger">More...</a>

      <div class="hidden js-nav-more spec-nav-more">
            <a href="https://dev.to/code-of-conduct" class="sidebar-navigation-link crayons-link crayons-link--block">
    <span class="crayons-icon crayons-icon--default">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <g class="nc-icon-wrapper">
        <path fill="#FFDB5E" d="M38.956 21.916c0-.503-.12-.975-.321-1.404-1.341-4.326-7.619-4.01-16.549-4.221-1.493-.035-.639-1.798-.115-5.668.341-2.517-1.282-6.382-4.01-6.382-4.498 0-.171 3.548-4.148 12.322-2.125 4.688-6.875 2.062-6.875 6.771v10.719c0 1.833.18 3.595 2.758 3.885 2.499.281 1.937 2.062 5.542 2.062h18.044a3.337 3.337 0 003.333-3.334c0-.762-.267-1.456-.698-2.018 1.02-.571 1.72-1.649 1.72-2.899 0-.76-.266-1.454-.696-2.015 1.023-.57 1.725-1.649 1.725-2.901 0-.909-.368-1.733-.961-2.336a3.311 3.311 0 001.251-2.581z"></path>
        <path fill="#EE9547" d="M27.02 25.249h8.604c1.17 0 2.268-.626 2.866-1.633a.876.876 0 00-1.506-.892 1.588 1.588 0 01-1.361.775h-8.81c-.873 0-1.583-.71-1.583-1.583s.71-1.583 1.583-1.583H32.7a.875.875 0 000-1.75h-5.888a3.337 3.337 0 00-3.333 3.333c0 1.025.475 1.932 1.205 2.544a3.32 3.32 0 00-.998 2.373c0 1.028.478 1.938 1.212 2.549a3.318 3.318 0 00.419 5.08 3.305 3.305 0 00-.852 2.204 3.337 3.337 0 003.333 3.333h5.484a3.35 3.35 0 002.867-1.632.875.875 0 00-1.504-.894 1.594 1.594 0 01-1.363.776h-5.484c-.873 0-1.583-.71-1.583-1.583s.71-1.583 1.583-1.583h6.506a3.35 3.35 0 002.867-1.633.875.875 0 10-1.504-.894 1.572 1.572 0 01-1.363.777h-7.063a1.585 1.585 0 010-3.167h8.091a3.35 3.35 0 002.867-1.632.875.875 0 00-1.504-.894 1.573 1.573 0 01-1.363.776H27.02a1.585 1.585 0 010-3.167z"></path>
    </g>
</svg>

    </span>
    Code of Conduct
  </a>

            <a href="https://dev.to/faq" class="sidebar-navigation-link crayons-link crayons-link--block">
    <span class="crayons-icon crayons-icon--default">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <g class="nc-icon-wrapper">
        <path fill="#FFD983" d="M33 15.06c0 6.439-5 7.439-5 13.44 0 3.098-3.123 3.359-5.5 3.359-2.053 0-6.586-.779-6.586-3.361C15.914 22.5 11 21.5 11 15.06c0-6.031 5.285-10.92 11.083-10.92C27.883 4.14 33 9.029 33 15.06z"></path>
        <path fill="#CCD6DD" d="M26.167 36.5c0 .828-2.234 2.5-4.167 2.5-1.933 0-4.167-1.672-4.167-2.5 0-.828 2.233-.5 4.167-.5 1.933 0 4.167-.328 4.167.5z"></path>
        <path fill="#FFCC4D" d="M26.707 14.293a.999.999 0 00-1.414 0L22 17.586l-3.293-3.293a1 1 0 10-1.414 1.414L21 19.414V30a1 1 0 102 0V19.414l3.707-3.707a.999.999 0 000-1.414z"></path>
        <path fill="#99AAB5" d="M28 35a2 2 0 01-2 2h-8a2 2 0 01-2-2v-6h12v6z"></path>
        <path fill="#CCD6DD" d="M15.999 36a1 1 0 01-.163-1.986l12-2a.994.994 0 011.15.822.999.999 0 01-.822 1.15l-12 2a.927.927 0 01-.165.014zm0-4a1 1 0 01-.163-1.986l12-2a.995.995 0 011.15.822.999.999 0 01-.822 1.15l-12 2a.927.927 0 01-.165.014z"></path>
    </g>
</svg>

    </span>
    FAQ
  </a>

            <a href="https://shop.dev.to/" class="sidebar-navigation-link crayons-link crayons-link--block">
    <span class="crayons-icon crayons-icon--default">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <g class="nc-icon-wrapper">
        <path fill="#F4900C" d="M15 4a8 8 0 00-8 8v8h2v-8a6 6 0 0112 0v8h2v-8a8 8 0 00-8-8z"></path>
        <path fill="#DD2E44" d="M5 12l2 2 2-2 2 2 2-2 2 2 2-2 2 2 2-2 2 2 2-2v23H5z"></path>
        <path fill="#FFCC4D" d="M29 9a8 8 0 00-8 8v8h2v-8a6 6 0 0112 0v8h2v-8a8 8 0 00-8-8z"></path>
        <path fill="#744EAA" d="M19 17l2 2 2-2 2 2 2-2 2 2 2-2 2 2 2-2 2 2 2-2v23H19z"></path>
    </g>
</svg>

    </span>
    DEV Shop
  </a>

            <a href="https://dev.to/sponsors" class="sidebar-navigation-link crayons-link crayons-link--block">
    <span class="crayons-icon crayons-icon--default">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <path fill="#DD2E44" d="M39.885 15.833c0-5.45-4.418-9.868-9.867-9.868-3.308 0-6.227 1.633-8.018 4.129-1.791-2.496-4.71-4.129-8.017-4.129-5.45 0-9.868 4.417-9.868 9.868 0 .772.098 1.52.266 2.241C5.751 26.587 15.216 35.568 22 38.034c6.783-2.466 16.249-11.447 17.617-19.959.17-.721.268-1.469.268-2.242z"></path>
</svg>

    </span>
    Sponsors
  </a>

            <a href="https://dev.to/about" class="sidebar-navigation-link crayons-link crayons-link--block">
    <span class="crayons-icon crayons-icon--default">
      <svg viewBox="0 0 235 234" xmlns="http://www.w3.org/2000/svg" class="rainbow-logo" preserveAspectRatio="xMinYMin meet">
    <g fill="none" fill-rule="evenodd">
        <path fill="#88AEDC" d="M234.04 175.67l-75.69 58.28h47.18L234.04 212z"></path>
        <path d="M234.04 140.06l-121.93 93.89h.02l121.91-93.87zM133.25.95L.04 103.51v.02L133.27.95z"></path>
        <path fill="#F58F8E" fill-rule="nonzero" d="M.04.95v30.16L39.21.95z"></path>
        <path fill="#FEE18A" fill-rule="nonzero" d="M39.21.95L.04 31.11v35.9L85.84.95z"></path>
        <path fill="#F3F095" fill-rule="nonzero" d="M85.84.95L.04 67.01v36.5L133.25.95z"></path>
        <path fill="#55C1AE" fill-rule="nonzero" d="M133.27.95L.04 103.53v35.59L179.49.95z"></path>
        <path fill="#F7B3CE" fill-rule="nonzero" d="M234.04.95h-7.37L.04 175.45v35.93l234-180.18z"></path>
        <path fill="#88AEDC" fill-rule="nonzero" d="M179.49.95L.04 139.12v36.33L226.67.95z"></path>
        <path fill="#F58F8E" fill-rule="nonzero" d="M234.04 31.2L.04 211.38v22.57h18.03l215.97-166.3z"></path>
        <path fill="#FEE18A" fill-rule="nonzero" d="M234.04 67.65L18.07 233.95H64.7l169.34-130.39z"></path>
        <path fill="#F3F095" fill-rule="nonzero" d="M234.04 103.56L64.7 233.95h47.41l121.93-93.89z"></path>
        <path fill="#55C1AE" fill-rule="nonzero" d="M234.04 140.08l-121.91 93.87h46.22l75.69-58.28z"></path>
        <path fill="#F7B3CE" fill-rule="nonzero" d="M234.04 212l-28.51 21.95h28.51z"></path>
        <path d="M65.237 77.75c4.514.95 7.774 2.8 11.135 6.3 3.059 3.2 4.965 6.85 5.767 10.95.652 3.45.652 40.55 0 44.05-1.705 9.1-9.479 16.2-19.109 17.45-2.006.25-8.727.5-14.845.5H37V77h12.438c8.828 0 13.342.2 15.8.75zM51.545 117v25.6l5.166-.2c4.464-.15 5.417-.35 7.423-1.5 3.912-2.3 3.962-2.45 3.962-24.2 0-21.2 0-21.2-3.661-23.6-1.806-1.2-2.558-1.35-7.473-1.55l-5.417-.15V117zm79.245-32.75v7.25h-25.58v18h15.549V124H105.21l.1 9.1.15 9.15 12.69.15 12.638.1V157h-14.795c-16.451 0-19.009-.3-21.617-2.6-3.661-3.2-3.46-1.15-3.611-36.3-.1-21.9.05-32.25.401-33.65.702-2.6 3.661-5.8 6.27-6.7 1.554-.55 5.466-.7 17.704-.75h15.648v7.25zm31.647 20.85c3.712 14.25 6.821 25.6 6.922 25.25.15-.35 3.31-12.4 7.071-26.85l6.872-26.25 7.824-.15c5.918-.1 7.874.05 7.874.5s-17.354 66.2-18.357 69.5c-.702 2.3-4.463 7-6.57 8.25-2.658 1.5-6.57 1.75-8.978.5-2.156-1.1-5.015-4.4-6.47-7.5-.902-1.9-15.648-56-19.058-70l-.352-1.35h7.825c7.673 0 7.874 0 8.275 1.1.2.65 3.41 12.8 7.122 27z" fill="#FFF"></path>
    </g>
</svg>

    </span>
    About
  </a>

            <a href="https://dev.to/privacy" class="sidebar-navigation-link crayons-link crayons-link--block">
    <span class="crayons-icon crayons-icon--default">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <g transform="translate(4 4)">
        <circle fill="#FFCC4D" cx="18" cy="18" r="18"></circle>
        <path fill="#664500" d="M27.335 23.629a.501.501 0 00-.635-.029c-.039.029-3.922 2.9-8.7 2.9-4.766 0-8.662-2.871-8.7-2.9a.5.5 0 10-.729.657C8.7 24.472 11.788 29.5 18 29.5s9.301-5.028 9.429-5.243a.499.499 0 00-.094-.628z"></path>
        <path fill="#65471B" d="M18 26.591c-.148 0-.291-.011-.438-.016v4.516h.875v-4.517c-.145.005-.289.017-.437.017z"></path>
        <path fill="#FFF" d="M22 26c.016-.004-1.45.378-2.446.486-.366.042-.737.076-1.117.089v4.517H20c1.1 0 2-.9 2-2V26zm-8 0c-.016-.004 1.45.378 2.446.486.366.042.737.076 1.117.089v4.517H16c-1.1 0-2-.9-2-2V26z"></path>
        <path fill="#65471B" d="M27.335 23.629a.501.501 0 00-.635-.029c-.03.022-2.259 1.668-5.411 2.47-.443.113-1.864.43-3.286.431-1.424 0-2.849-.318-3.292-.431-3.152-.802-5.381-2.448-5.411-2.47a.501.501 0 00-.729.657c.097.162 1.885 3.067 5.429 4.481v-1.829c-.016-.004 1.45.378 2.446.486.366.042.737.076 1.117.089.146.005.289.016.437.016.148 0 .291-.011.438-.016.38-.013.751-.046 1.117-.089.996-.108 2.462-.49 2.446-.486v1.829c3.544-1.414 5.332-4.319 5.429-4.481a.5.5 0 00-.095-.628zm-.711-9.605c0 1.714-.938 3.104-2.096 3.104-1.157 0-2.096-1.39-2.096-3.104s.938-3.104 2.096-3.104c1.158 0 2.096 1.39 2.096 3.104zm-17.167 0c0 1.714.938 3.104 2.096 3.104 1.157 0 2.096-1.39 2.096-3.104s-.938-3.104-2.096-3.104c-1.158 0-2.096 1.39-2.096 3.104z"></path>
        <path fill="#292F33" d="M34.808 9.627c-.171-.166-1.267.274-2.376-.291-2.288-1.166-8.07-2.291-11.834.376-.403.285-2.087.333-2.558.313-.471.021-2.155-.027-2.558-.313-3.763-2.667-9.545-1.542-11.833-.376-1.109.565-2.205.125-2.376.291-.247.239-.247 1.196.001 1.436.246.239 1.477.515 1.722 1.232.247.718.249 4.958 2.213 6.424 1.839 1.372 6.129 1.785 8.848.238 2.372-1.349 2.289-4.189 2.724-5.881.155-.603.592-.907 1.26-.907s1.105.304 1.26.907c.435 1.691.351 4.532 2.724 5.881 2.719 1.546 7.009 1.133 8.847-.238 1.965-1.465 1.967-5.706 2.213-6.424.245-.717 1.476-.994 1.722-1.232.248-.24.249-1.197.001-1.436zm-20.194 3.65c-.077 1.105-.274 3.227-1.597 3.98-.811.462-1.868.743-2.974.743h-.001c-1.225 0-2.923-.347-3.587-.842-.83-.619-1.146-3.167-1.265-4.12-.076-.607-.28-2.09.388-2.318 1.06-.361 2.539-.643 4.052-.643.693 0 3.021.043 4.155.741 1.005.617.872 1.851.829 2.459zm16.278-.253c-.119.954-.435 3.515-1.265 4.134-.664.495-2.362.842-3.587.842h-.001c-1.107 0-2.163-.281-2.975-.743-1.323-.752-1.52-2.861-1.597-3.966-.042-.608-.176-1.851.829-2.468 1.135-.698 3.462-.746 4.155-.746 1.513 0 2.991.277 4.052.638.668.228.465 1.702.389 2.309z"></path>
    </g>
</svg>

    </span>
    Privacy Policy
  </a>

            <a href="https://dev.to/terms" class="sidebar-navigation-link crayons-link crayons-link--block">
    <span class="crayons-icon crayons-icon--default">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <g transform="translate(4 4)">
        <ellipse fill="#F5F8FA" cx="8.828" cy="18" rx="7.953" ry="13.281"></ellipse>
        <path fill="#E1E8ED" d="M8.828 32.031C3.948 32.031.125 25.868.125 18S3.948 3.969 8.828 3.969 17.531 10.132 17.531 18s-3.823 14.031-8.703 14.031zm0-26.562C4.856 5.469 1.625 11.09 1.625 18s3.231 12.531 7.203 12.531S16.031 24.91 16.031 18 12.8 5.469 8.828 5.469z"></path>
        <circle fill="#8899A6" cx="6.594" cy="18" r="4.96"></circle>
        <circle fill="#292F33" cx="6.594" cy="18" r="3.565"></circle>
        <circle fill="#F5F8FA" cx="7.911" cy="15.443" r="1.426"></circle>
        <ellipse fill="#F5F8FA" cx="27.234" cy="18" rx="7.953" ry="13.281"></ellipse>
        <path fill="#E1E8ED" d="M27.234 32.031c-4.88 0-8.703-6.163-8.703-14.031s3.823-14.031 8.703-14.031S35.938 10.132 35.938 18s-3.824 14.031-8.704 14.031zm0-26.562c-3.972 0-7.203 5.622-7.203 12.531 0 6.91 3.231 12.531 7.203 12.531S34.438 24.91 34.438 18 31.206 5.469 27.234 5.469z"></path>
        <circle fill="#8899A6" cx="25" cy="18" r="4.96"></circle>
        <circle fill="#292F33" cx="25" cy="18" r="3.565"></circle>
        <circle fill="#F5F8FA" cx="26.317" cy="15.443" r="1.426"></circle>
    </g>
</svg>

    </span>
    Terms of use
  </a>

            <a href="https://dev.to/contact" class="sidebar-navigation-link crayons-link crayons-link--block">
    <span class="crayons-icon crayons-icon--default">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <g class="nc-icon-wrapper">
        <path fill="#FFAC33" d="M38.724 33.656c-1.239-.01-1.241 1.205-1.241 1.205H22.5c-5.246 0-9.5-4.254-9.5-9.5s4.254-9.5 9.5-9.5 9.5 4.254 9.5 9.5c0 3.062-1.6 5.897-3.852 7.633h5.434C35.022 30.849 36 28.139 36 25.361c0-7.456-6.045-13.5-13.5-13.5-7.456 0-13.5 6.044-13.5 13.5 0 7.455 6.044 13.5 13.5 13.5h14.982s-.003 1.127 1.241 1.139c1.238.012 1.228-1.245 1.228-1.245l.014-3.821s.001-1.267-1.241-1.278zM9 18.26a16.047 16.047 0 014-4.739V13c0-5 5-7 5-8s-1-1-1-1H5C4 4 4 5 4 5c0 1 5 3.333 5 7.69v5.57z"></path>
        <path fill="#BE1931" d="M17.091 33.166a9.487 9.487 0 01-4.045-8.72l-3.977-.461c-.046.452-.069.911-.069 1.376 0 4.573 2.28 8.608 5.76 11.051l2.331-3.246z"></path>
        <path fill="#BE1931" d="M10 29.924s-5.188-.812-5 1 5-1 5-1zm0 .312s-4.125 2.688-2.938 3.75S10 30.236 10 30.236z"></path>
    </g>
</svg>

    </span>
    Contact
  </a>

        <div class="flex justify-around p-4 mt-4 border-solid border-0 border-t-1 border-base-10">
            <a href="https://twitter.com/thepracticaldev" target="_blank" class="crayons-link crayons-link--secondary mx-2" rel="noopener">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" role="img" aria-labelledby="acyfzt6hwhdrcl6k52gpi49gkj4qhmcw" class="crayons-icon"><title id="acyfzt6hwhdrcl6k52gpi49gkj4qhmcw">Twitter</title>
    <path d="M22.162 5.656a8.383 8.383 0 01-2.402.658A4.196 4.196 0 0021.6 4c-.82.488-1.719.83-2.656 1.015a4.182 4.182 0 00-7.126 3.814 11.874 11.874 0 01-8.62-4.37 4.168 4.168 0 00-.566 2.103c0 1.45.738 2.731 1.86 3.481a4.168 4.168 0 01-1.894-.523v.052a4.185 4.185 0 003.355 4.101 4.211 4.211 0 01-1.89.072A4.185 4.185 0 007.97 16.65a8.395 8.395 0 01-6.191 1.732 11.83 11.83 0 006.41 1.88c7.693 0 11.9-6.373 11.9-11.9 0-.18-.005-.362-.013-.54a8.495 8.495 0 002.087-2.165l-.001-.001z" fill="#65bbf2"></path>
</svg>

  </a>
  <a href="https://facebook.com/thepracticaldev" target="_blank" class="crayons-link crayons-link--secondary mx-2" rel="noopener">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" role="img" aria-labelledby="a3tvau8y41d6gcox8qrdvstphdxlp6es" class="crayons-icon"><title id="a3tvau8y41d6gcox8qrdvstphdxlp6es">Facebook</title>
    <path d="M15.402 21v-6.966h2.333l.349-2.708h-2.682V9.598c0-.784.218-1.319 1.342-1.319h1.434V5.857a19.188 19.188 0 00-2.09-.107c-2.067 0-3.482 1.262-3.482 3.58v1.996h-2.338v2.708h2.338V21H4a1 1 0 01-1-1V4a1 1 0 011-1h16a1 1 0 011 1v16a1 1 0 01-1 1h-4.598z"></path>
</svg>

  </a>
  <a href="https://github.com/thepracticaldev" target="_blank" class="crayons-link crayons-link--secondary mx-2" rel="noopener">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" role="img" aria-labelledby="a9mto4ifncl7wk7bj09vepp1r6gjlgfh" class="crayons-icon"><title id="a9mto4ifncl7wk7bj09vepp1r6gjlgfh">Github</title>
    <path d="M12 2C6.475 2 2 6.475 2 12a9.994 9.994 0 006.838 9.488c.5.087.687-.213.687-.476 0-.237-.013-1.024-.013-1.862-2.512.463-3.162-.612-3.362-1.175-.113-.288-.6-1.175-1.025-1.413-.35-.187-.85-.65-.013-.662.788-.013 1.35.725 1.538 1.025.9 1.512 2.338 1.087 2.912.825.088-.65.35-1.087.638-1.337-2.225-.25-4.55-1.113-4.55-4.938 0-1.088.387-1.987 1.025-2.688-.1-.25-.45-1.275.1-2.65 0 0 .837-.262 2.75 1.026a9.28 9.28 0 012.5-.338c.85 0 1.7.112 2.5.337 1.912-1.3 2.75-1.024 2.75-1.024.55 1.375.2 2.4.1 2.65.637.7 1.025 1.587 1.025 2.687 0 3.838-2.337 4.688-4.562 4.938.362.312.675.912.675 1.85 0 1.337-.013 2.412-.013 2.75 0 .262.188.574.688.474A10.016 10.016 0 0022 12c0-5.525-4.475-10-10-10z"></path>
</svg>

  </a>
  <a href="https://instagram.com/thepracticaldev" target="_blank" class="crayons-link crayons-link--secondary mx-2" rel="noopener">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" role="img" aria-labelledby="ak39x81uzlfuh65kwqp93y84rvoq25vl" class="crayons-icon"><title id="ak39x81uzlfuh65kwqp93y84rvoq25vl">Instagram</title>
    <path d="M12 2c2.717 0 3.056.01 4.122.06 1.065.05 1.79.217 2.428.465.66.254 1.216.598 1.772 1.153.509.5.902 1.105 1.153 1.772.247.637.415 1.363.465 2.428.047 1.066.06 1.405.06 4.122 0 2.717-.01 3.056-.06 4.122-.05 1.065-.218 1.79-.465 2.428a4.883 4.883 0 01-1.153 1.772c-.5.508-1.105.902-1.772 1.153-.637.247-1.363.415-2.428.465-1.066.047-1.405.06-4.122.06-2.717 0-3.056-.01-4.122-.06-1.065-.05-1.79-.218-2.428-.465a4.89 4.89 0 01-1.772-1.153 4.904 4.904 0 01-1.153-1.772c-.248-.637-.415-1.363-.465-2.428C2.013 15.056 2 14.717 2 12c0-2.717.01-3.056.06-4.122.05-1.066.217-1.79.465-2.428a4.88 4.88 0 011.153-1.772A4.897 4.897 0 015.45 2.525c.638-.248 1.362-.415 2.428-.465C8.944 2.013 9.283 2 12 2zm0 5a5 5 0 100 10 5 5 0 000-10zm6.5-.25a1.25 1.25 0 10-2.5 0 1.25 1.25 0 002.5 0zM12 9a3 3 0 110 6 3 3 0 010-6z"></path>
</svg>

  </a>
  <a href="https://twitch.com/thepracticaldev" target="_blank" class="crayons-link crayons-link--secondary mx-2" rel="noopener">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" role="img" aria-labelledby="ahj05lv2nk7by5w5ha3gixs1wha87frg" class="crayons-icon"><title id="ahj05lv2nk7by5w5ha3gixs1wha87frg">Twitch</title>
    <path d="M4.3 3H21v11.7l-4.7 4.7h-3.9l-2.5 2.4H7v-2.4H3V6.2L4.3 3zM5 17.4h4v2.4h.095l2.5-2.4h3.877L19 13.872V5H5v12.4zM15 8h2v4.7h-2V8zm0 0h2v4.7h-2V8zm-5 0h2v4.7h-2V8z"></path>
</svg>

  </a>

        </div>
      </div>
  </div>
</nav>

    </div>
  </div>
  <div class="hamburger__overlay js-hamburger-trigger"></div>
</div>


        <div id="active-broadcast" class="broadcast-wrapper"></div>
        <div id="message-notice"></div>
        <div class="app-shell-loader">
          loading...
        </div>
  <div id="base-payment-pointer" data-payment-pointer="$ilp.uphold.com/24HhrUGG7ekn"></div>
<style>.app-shell-loader {display: none;}</style>
<div id="page-content" class="wrapper stories stories-show" data-current-page="stories-show">
  <div id="page-content-inner">
    


<style>
  .html-variant-wrapper { display: none}
</style>

<script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/webcomponents-loader.js.download" integrity="sha384-3HK5hxQbkFqOIxMbpROlRmRtYl2LBZ52t+tqcjzsmr9NJuOWQxl8RgQSyFvq2lhy" crossorigin="anonymous" defer=""></script>

  <script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/runtime_clipboardCopy-af40b138c019c9c3d781.js.download" defer="defer"></script>
<script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/clipboardCopy-47df13a3a3be467aa268.chunk.js.download" defer="defer"></script>
<script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/runtime_webShare-e46b269ddc4779a38ee9.js.download" defer="defer"></script>
<script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/webShare-baa0f5499334117d062c.chunk.js.download" defer="defer"></script>
<script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/runtime_articlePage-e0e333f13833bb1fb7cd.js.download" defer="defer"></script>
<script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/vendors_Chat_articleForm_articlePage_commentDropdowns_modCenter-cc01646dddc55576e0cc.chunk.js.download" defer="defer"></script>
<script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/0-a6389f4deeb35d7e7d41.chunk.js.download" defer="defer"></script>
<script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/articlePage-61e4f03dc377fd6b6066.chunk.js.download" defer="defer"></script>
<script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/runtime_commentDropdowns-04109d1de1c3706f057a.js.download" defer="defer"></script>
<script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/commentDropdowns-d088fdedf373a563f18b.chunk.js.download" defer="defer"></script>

    <script type="application/ld+json">
      {"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm"},"url":"https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm","image":["https://res.cloudinary.com/practicaldev/image/fetch/s--Yol1_4_i--/c_imagga_scale,f_auto,fl_progressive,h_1080,q_auto,w_1080/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6babhtod2d6dgz58nu0k.png","https://res.cloudinary.com/practicaldev/image/fetch/s--lMb0tAKl--/c_imagga_scale,f_auto,fl_progressive,h_720,q_auto,w_1280/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6babhtod2d6dgz58nu0k.png","https://res.cloudinary.com/practicaldev/image/fetch/s--_eSW7Lmt--/c_imagga_scale,f_auto,fl_progressive,h_900,q_auto,w_1600/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6babhtod2d6dgz58nu0k.png"],"publisher":{"@context":"http://schema.org","@type":"Organization","name":"DEV Community","logo":{"@context":"http://schema.org","@type":"ImageObject","url":"https://res.cloudinary.com/practicaldev/image/fetch/s--t7tVouP9--/c_limit,f_png,fl_progressive,q_80,w_192/https://practicaldev-herokuapp-com.freetls.fastly.net/assets/devlogo-pwa-512.png","width":"192","height":"192"}},"headline":"Many-to-Many relationship in MongoDB . Nodejs | Express | Mongoose","author":{"@context":"http://schema.org","@type":"Person","url":"https://dev.to/nehalahmadkhan","name":"Nehal Ahmad"},"datePublished":"2021-04-03T03:20:58Z","dateModified":"2021-04-03T03:20:58Z"}
    </script>

  
<div class="crayons-layout crayons-layout--3-cols crayons-layout--article">
  <aside class="crayons-layout__sidebar-left" aria-label="Article actions">
    <div class="crayons-article-actions print-hidden">
  <div class="crayons-article-actions__inner">

      <button id="reaction-butt-like" aria-label="Like" class="crayons-reaction crayons-reaction--like activated" data-category="like" title="Heart">
  <span class="crayons-reaction__icon crayons-reaction__icon--inactive">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" class="crayons-icon">
    <path d="M21.179 12.794l.013.014L12 22l-9.192-9.192.013-.014A6.5 6.5 0 0112 3.64a6.5 6.5 0 019.179 9.154zM4.575 5.383a4.5 4.5 0 000 6.364L12 19.172l7.425-7.425a4.5 4.5 0 10-6.364-6.364L8.818 9.626 7.404 8.21l3.162-3.162a4.5 4.5 0 00-5.99.334l-.001.001z"></path>
</svg>

  </span>
  <span class="crayons-reaction__count" id="reaction-number-like">18</span>
</button>

      <button id="reaction-butt-unicorn" aria-label="React with unicorn" class="crayons-reaction crayons-reaction--unicorn activated" data-category="unicorn" title="Unicorn">
  <span class="crayons-reaction__icon crayons-reaction__icon--inactive">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true" class="crayons-icon">
    <path d="M5.645 8.013c.013-.265-.261-.323-.4-.183-1.16 1.17-1.822 3.865-.344 7.32.294.961 1.938 3.19.84 6.131l-.003.006c-.094.255.206.404.366.263 1.395-1.226 1.933-3.593 1.1-6.375-.488-1.657-1.955-4.226-1.559-7.162zm-3.22 2.738c.05-.137-.124-.417-.326-.225-.939.893-1.316 2.863-.976 4.605.547 2.878 2.374 3.526 2.066 6.629-.028.102.176.38.348.154 1.546-2.033.409-4.453-.241-6.006-1.005-2.386-1.087-4.118-.871-5.157z" fill="#08090A"></path>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M13.622 7.223l8.579-3.68c.598-.256 1.087.547.6.985l-6.618 5.941c.881 2.043 2.738 6.34 2.931 6.775 1.348 3.031-2.055 4.918-3.807 3.583a7.027 7.027 0 01-.623-.574c-.974-.965-2.419-2.398-5.207-1.877.284-2.115-.313-3.737-.883-5.288-.38-1.032-.747-2.032-.837-3.124-.346-3.329 3.763-8.23 4.696-7.953.386.115.326 1.229.266 2.319-.051.948-.102 1.88.143 2.12.145.142.428.43.76.773zM11.5 16.5l2.5.5 2.5 2 1-.5-2-4.5-1.5-4-1.5-1-1-1-1-1.5L10 8l-.5 1.5 1 2.5 1 4.5z"></path>
</svg>

  </span>
  <span class="crayons-reaction__count" id="reaction-number-unicorn">7</span>
</button>

      <button id="reaction-butt-readinglist" aria-label="Add to reading list" class="crayons-reaction crayons-reaction--readinglist activated" data-category="readinglist" title="Saved">
  <span class="crayons-reaction__icon crayons-reaction__icon--inactive">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" class="crayons-icon">
    <path d="M5 2h14a1 1 0 011 1v19.143a.5.5 0 01-.766.424L12 18.03l-7.234 4.536A.5.5 0 014 22.143V3a1 1 0 011-1zm13 2H6v15.432l6-3.761 6 3.761V4z"></path>
</svg>

  </span>
  <span class="crayons-reaction__count" id="reaction-number-readinglist">39</span>
</button>


    <div class="align-center m:relative">
      <button id="article-show-more-button" aria-controls="article-show-more-dropdown" aria-expanded="false" aria-haspopup="true" class="dropbtn crayons-btn crayons-btn--ghost-dimmed crayons-btn--icon-rounded" aria-label="Share post options" data-initialized="true">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true" class="dropdown-icon crayons-icon"><title>More...</title><path fill-rule="evenodd" clip-rule="evenodd" d="M7 12a2 2 0 11-4 0 2 2 0 014 0zm7 0a2 2 0 11-4 0 2 2 0 014 0zm5 2a2 2 0 100-4 2 2 0 000 4z"></path></svg>

      </button>
      <div id="article-show-more-dropdown" class="crayons-dropdown p-1 right-1 left-1 s:left-auto bottom-100 m:bottom-0 m:right-auto m:left-100 fs-base">
        <clipboard-copy for="article-copy-link-input" aria-live="polite" aria-controls="article-copy-link-announcer" class="dropdown-link-row">
          <div class="flex items-center">
            <input type="text" id="article-copy-link-input" value="https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm" aria-label="Post URL" class="crayons-textfield" readonly="">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" id="article-copy-icon" role="img" aria-labelledby="arh83kq7ry390on2g04zpwr1oigbjf96" class="crayons-icon mx-2 shrink-0"><title id="arh83kq7ry390on2g04zpwr1oigbjf96">Copy article link to the clipboard</title>
    <path d="M7 6V3a1 1 0 011-1h12a1 1 0 011 1v14a1 1 0 01-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1 1 0 013 21l.003-14c0-.552.45-1 1.007-1H7zm2 0h8v10h2V4H9v2zm-2 5v2h6v-2H7zm0 4v2h6v-2H7z"></path>
</svg>

          </div>
          <div id="article-copy-link-announcer" class="crayons-notice crayons-notice--success my-2 p-1" aria-live="polite" hidden="">Copied to Clipboard</div>
        </clipboard-copy>

        <div class="Desktop-only">
          <a target="_blank" class="dropdown-link-row crayons-link crayons-link--block" rel="noopener" href="https://twitter.com/intent/tweet?text=%22Many-to-Many%20relationship%20in%20MongoDB%20.%20Nodejs%20%7C%20Express%20%7C%20Mongoose%22%20by%20Nehal%20Ahmad%20%23DEVCommunity%20https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm">
            Share to Twitter
          </a>
          <a target="_blank" class="dropdown-link-row crayons-link crayons-link--block" rel="noopener" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm&amp;title=Many-to-Many%20relationship%20in%20MongoDB%20.%20Nodejs%20|%20Express%20|%20Mongoose&amp;summary=Recently%20I%20was%20working%20on%20a%20project%20(Node,%20Express,%20MongoDB,%20Mongoose)%20where%20I%20needed%20to%20create%20many-...&amp;source=DEV%20Community">
            Share to LinkedIn
          </a>
          <a target="_blank" class="dropdown-link-row crayons-link crayons-link--block" rel="noopener" href="https://www.reddit.com/submit?url=https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm&amp;title=Many-to-Many%20relationship%20in%20MongoDB%20.%20Nodejs%20|%20Express%20|%20Mongoose">
            Share to Reddit
          </a>
          <a target="_blank" class="dropdown-link-row crayons-link crayons-link--block" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm&amp;t=Many-to-Many%20relationship%20in%20MongoDB%20.%20Nodejs%20|%20Express%20|%20Mongoose">
            Share to Hacker News
          </a>
          <a target="_blank" class="dropdown-link-row crayons-link crayons-link--block" rel="noopener" href="https://www.facebook.com/sharer.php?u=https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm">
            Share to Facebook
          </a>
        </div>

        <web-share-wrapper shareurl="https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm" sharetitle="Many-to-Many relationship in MongoDB . Nodejs | Express | Mongoose" sharetext="Recently I was working on a project (Node, Express, MongoDB, Mongoose) where I needed to create many-..." template="web-share-button">
          <a href="https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm#" class="dropdown-link-row crayons-link crayons-link--block">Share Post via...</a>
        </web-share-wrapper>
        <template id="web-share-button"></template>

        <a href="https://dev.to/report-abuse" class="dropdown-link-row crayons-link crayons-link--block">Report Abuse</a>
      </div>
    </div>
  </div>
</div>

      <div class="html-variant-wrapper" id="html-variant-article-show-below-article" data-variant-id="382">
        <div></div>
      </div>

  </aside>

  <main id="main-content" class="crayons-layout__content grid gap-4">
    <div class="article-wrapper">


      <article class="crayons-card crayons-article mb-4" id="article-show-container" data-article-id="651645" data-author-id="587755" data-path="/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm" data-published="true" data-pin-path="/stories/feed/pinned_article" data-pinned-article-id="">
        <header class="crayons-article__header" id="main-title">
            <div class="crayons-article__cover">
              <img src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/6babhtod2d6dgz58nu0k.webp" width="1000" height="420" style="background-color:#dddddd;" class="crayons-article__cover__image" alt="Cover image for Many-to-Many relationship in MongoDB . Nodejs | Express | Mongoose">
            </div>

          <div class="crayons-article__header__meta">
            <h1 class="fs-3xl m:fs-4xl l:fs-5xl fw-bold s:fw-heavy lh-tight mb-4 long">
              Many-to-Many relationship in MongoDB . Nodejs | Express | Mongoose
            </h1>

              <div class="mb-4 spec__tags">
                  <a class="crayons-tag mr-1" href="https://dev.to/t/mongodb" style="background-color:#7bcc7c;color:#212223"><span class="crayons-tag__prefix">#</span>mongodb</a>
                  <a class="crayons-tag mr-1" href="https://dev.to/t/node" style="background-color:#3d8836;color:#ffffff"><span class="crayons-tag__prefix">#</span>node</a>
                  <a class="crayons-tag mr-1" href="https://dev.to/t/database" style="background-color:#ED1556;color:#FFFFFF"><span class="crayons-tag__prefix">#</span>database</a>
                  <a class="crayons-tag mr-1" href="https://dev.to/t/webdev" style="background-color:#562765;color:#ffffff"><span class="crayons-tag__prefix">#</span>webdev</a>
              </div>

            <div class="crayons-article__subheader">
              <a href="https://dev.to/nehalahmadkhan" class="flex items-center mr-2 mb-4 s:mb-0 fw-medium crayons-link">
                <span class="crayons-avatar crayons-avatar--l mr-2"><img class="crayons-avatar__image" src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/dbf4dd6f-adbe-470e-a8ce-7392a1c7a601.webp" alt=""></span>
                <span class="block m:hidden">Nehal Ahmad</span>
              </a>
              <div class="profile-preview-card relative mr-4 mb-4 s:mb-0 fw-medium">
                <button id="profile-preview-trigger" class="profile-preview-card__trigger px-0 crayons-btn crayons-btn--ghost hidden m:block" aria-label="Nehal Ahmad profile details" aria-expanded="false" aria-controls="profile-preview-content" aria-haspopup="true" data-initialized="true">Nehal Ahmad</button>
                <div id="profile-preview-content" class="profile-preview-card__content crayons-dropdown" style="--card-color: #000000; border-top: var(--su-7) solid var(--card-color);" data-testid="profile-preview-card">
    <div class="gap-4 grid">
        <div class="-mt-4">
  <a href="https://dev.to/nehalahmadkhan" class="flex">
    <span class="crayons-avatar crayons-avatar--xl  mr-2 shrink-0">
      <img src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/dbf4dd6f-adbe-470e-a8ce-7392a1c7a601(1).webp" class="crayons-avatar__image" alt="" loading="lazy">
    </span>
    <span class="crayons-link crayons-subtitle-2 mt-5">Nehal Ahmad</span>
  </a>
</div>

<div class="print-hidden">
  <button class="crayons-btn follow-action-button w-100 whitespace-nowrap showing" data-info="{&quot;id&quot;:587755,&quot;className&quot;:&quot;User&quot;,&quot;style&quot;:&quot;&quot;}" data-follow-action-button="true">Follow</button></div>

  <div class="user-metadata-details">
    <ul class="user-metadata-details-inner">
        <li>
          <div class="key">
            Location
          </div>
          <div class="value">
            Bilgram Hardoi UP India
          </div>
        </li>
    <li>
      <div class="key">
        Joined
      </div>
      <div class="value">
        <time datetime="2021-02-28T09:46:35Z" class="date" title="Sunday, February 28, 2021, 2:46:35 PM">Feb 28, 2021</time>
      </div>
    </li>
  </ul>
</div>

    </div>
</div>

              </div>

              <span class="fs-s mb-4 s:mb-0">
                  <time datetime="2021-04-03T03:20:58Z" class="date-no-year" title="Saturday, April 3, 2021, 8:20:58 AM">Apr 3</time>


                <span class="mr-4">ãƒ»4 min read</span>
              </span>
              <span id="action-space" class="mb-4 s:mb-0"></span>
            </div>
          </div>
        </header>

        <div class="crayons-article__main">

          <div class="crayons-article__body text-styles spec__body" data-article-id="651645" id="article-body">
            <p>Recently I was working on a project (Node, Express, MongoDB, Mongoose) where I needed to create many-to-many relationships with products and categories where categories can have multiple products and products can be in multiple categories.</p>

<p>So I started working on it, I made it so that adding, removing, or updating products will automatically update categories too and vice-versa.</p>

<p>Then I thought let's see how others have done it. So I searched for it but I could not find something similar, this made me think why not share my method so others can get help from it or someone can correct me.</p>

<p>So here is how I did it, this is the simplified version of my full code.</p>

<h3>
  <a name="models" href="https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm#models" class="anchor">
  </a>
  Models
</h3>

<p>First I created product and category model.</p>

<h5>
  <a name="product-model" href="https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm#product-model" class="anchor">
  </a>
  Product Model
</h5>



<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">const</span> <span class="nx">mongoose</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">mongoose</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">Schema</span> <span class="o">=</span> <span class="nx">mongoose</span><span class="p">.</span><span class="nx">Schema</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">productSchema</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Schema</span><span class="p">({</span>
    <span class="na">name</span><span class="p">:</span>           <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="nb">String</span><span class="p">,</span> <span class="na">required</span><span class="p">:</span> <span class="kc">true</span><span class="p">},</span>
    <span class="na">price</span><span class="p">:</span>          <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="nb">Number</span><span class="p">,</span> <span class="na">required</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">min</span><span class="p">:</span> <span class="mi">0</span> <span class="p">},</span>
    <span class="na">categories</span><span class="p">:</span>     <span class="p">[{</span> <span class="na">type</span><span class="p">:</span> <span class="nx">mongoose</span><span class="p">.</span><span class="nx">Types</span><span class="p">.</span><span class="nx">ObjectId</span><span class="p">,</span> <span class="na">ref</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Category</span><span class="dl">'</span> <span class="p">}],</span>
<span class="p">});</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">mongoose</span><span class="p">.</span><span class="nx">model</span><span class="p">(</span><span class="dl">'</span><span class="s1">Product</span><span class="dl">'</span><span class="p">,</span> <span class="nx">productSchema</span><span class="p">);</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Here you can see my product model has three simple fields first is the name of the product, second is the price of the product and third is the array of categories in which this product belongs.</p>

<h5>
  <a name="category-model" href="https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm#category-model" class="anchor">
  </a>
  Category Model
</h5>



<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">const</span> <span class="nx">mongoose</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">mongoose</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">Schema</span> <span class="o">=</span> <span class="nx">mongoose</span><span class="p">.</span><span class="nx">Schema</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">categorySchema</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Schema</span><span class="p">({</span>
    <span class="na">name</span><span class="p">:</span>       <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="nb">String</span><span class="p">,</span> <span class="na">required</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span>
    <span class="na">products</span><span class="p">:</span>   <span class="p">[{</span> <span class="na">type</span><span class="p">:</span> <span class="nx">mongoose</span><span class="p">.</span><span class="nx">Types</span><span class="p">.</span><span class="nx">ObjectId</span><span class="p">,</span> <span class="na">ref</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Product</span><span class="dl">'</span> <span class="p">}],</span>
<span class="p">});</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">mongoose</span><span class="p">.</span><span class="nx">model</span><span class="p">(</span><span class="dl">'</span><span class="s1">Category</span><span class="dl">'</span><span class="p">,</span> <span class="nx">categorySchema</span><span class="p">);</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>The category model is also a simple one with two fields first is the name of the category and the second is the array of all products in this category.</p>

<h3>
  <a name="routes" href="https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm#routes" class="anchor">
  </a>
  Routes
</h3>

<p>I will show you only three routes Create, Update and Delete route for simplicity.</p>

<h5>
  <a name="1-create-route" href="https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm#1-create-route" class="anchor">
  </a>
  1. Create Route
</h5>

<p>Suppose we want to add a new product iPhone 12 and add it to three categories Mobile, Smartphone, Electronics. So we will send our request with the following data.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="err">product:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iPhone 12"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1200"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"606563248d90d1833f3cda0b"</span><span class="p">,</span><span class="w"> </span><span class="s2">"606563334294906c9a9b9dfe"</span><span class="p">,</span><span class="w"> </span><span class="s2">"6065633736dee94dfae613d7"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Here categories are the id of categories in which we want to add. our product.<br>
To handle this request I created the following route.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="nx">router</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">product</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>

  <span class="kd">const</span> <span class="nx">newProduct</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Product</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">product</span><span class="p">);</span>

  <span class="k">await</span> <span class="nx">Category</span><span class="p">.</span><span class="nx">updateMany</span><span class="p">({</span> <span class="dl">'</span><span class="s1">_id</span><span class="dl">'</span><span class="p">:</span> <span class="nx">newProduct</span><span class="p">.</span><span class="nx">categories</span> <span class="p">},</span> <span class="p">{</span> <span class="na">$push</span><span class="p">:</span> <span class="p">{</span> <span class="na">products</span><span class="p">:</span> <span class="nx">newProduct</span><span class="p">.</span><span class="nx">_id</span> <span class="p">}</span> <span class="p">});</span>

  <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">newProduct</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>First I extract product data from req.body.<br>
<code>const { product } = req.body;</code></p>

<p>Then I created a new product from that data.<br>
<code>const newProduct = await Product.create(product);</code></p>

<p>After creating the product I use <a href="https://mongoosejs.com/docs/api.html#model_Model.updateMany">updateMany()</a> to find all categories in this product and update them to include this product.<br>
<code>await Category.updateMany({ '_id': newProduct.categories }, { $push: { products: newProduct._id } });</code></p>
<h5>
  <a name="delete-route" href="https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm#delete-route" class="anchor">
  </a>
  Delete Route
</h5>


<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="nx">router</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="dl">'</span><span class="s1">/:id</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">_id</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">product</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Product</span><span class="p">.</span><span class="nx">findOne</span><span class="p">({</span> <span class="nx">_id</span> <span class="p">});</span>

  <span class="k">await</span> <span class="nx">product</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span>

  <span class="k">await</span> <span class="nx">Category</span><span class="p">.</span><span class="nx">updateMany</span><span class="p">({</span> <span class="dl">'</span><span class="s1">_id</span><span class="dl">'</span><span class="p">:</span> <span class="nx">product</span><span class="p">.</span><span class="nx">categories</span> <span class="p">},</span> <span class="p">{</span> <span class="na">$pull</span><span class="p">:</span> <span class="p">{</span> <span class="na">products</span><span class="p">:</span> <span class="nx">product</span><span class="p">.</span><span class="nx">_id</span> <span class="p">}</span> <span class="p">});</span>

  <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">redirect</span><span class="p">(</span><span class="nx">product</span><span class="p">);</span>

<span class="p">});</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>


<p>Delete route was also straightforward as create route. <br>
First I find the product by id then remove it,<br>
<code>await Product.findOne({ _id });</code><br>
<code>await product.remove();</code></p>

<p>and then update all categories in this product to remove this product.<br>
<code>await Category.updateMany({ '_id': product.categories }, { $pull: { products: product._id } });</code></p>
<h5>
  <a name="update-route" href="https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm#update-route" class="anchor">
  </a>
  Update Route
</h5>

<p>The update route was a little bit tricky. Because here categories of product can be changed so we have to know which categories were added and which were removed. To do this I created this function.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">difference</span><span class="p">(</span><span class="nx">A</span><span class="p">,</span> <span class="nx">B</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">arrA</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">A</span><span class="p">)</span> <span class="p">?</span> <span class="nx">A</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span><span class="p">.</span><span class="nx">toString</span><span class="p">())</span> <span class="p">:</span> <span class="p">[</span><span class="nx">A</span><span class="p">.</span><span class="nx">toString</span><span class="p">()];</span>
  <span class="kd">const</span> <span class="nx">arrB</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">B</span><span class="p">)</span> <span class="p">?</span> <span class="nx">B</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span><span class="p">.</span><span class="nx">toString</span><span class="p">())</span> <span class="p">:</span> <span class="p">[</span><span class="nx">B</span><span class="p">.</span><span class="nx">toString</span><span class="p">()];</span>

  <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">p</span> <span class="k">of</span> <span class="nx">arrA</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">arrB</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">p</span><span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">result</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>This function basically takes two arrays A, B and returns a new array of items that are present in array A but not in array B. Something like this.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">const</span> <span class="nx">arrA</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">d</span><span class="dl">'</span><span class="p">];</span>
<span class="kd">const</span> <span class="nx">arrB</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">d</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">e</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">f</span><span class="dl">'</span><span class="p">];</span>

<span class="nx">difference</span><span class="p">(</span><span class="nx">arrA</span><span class="p">,</span> <span class="nx">arrB</span><span class="p">);</span>
<span class="c1">// Returns: ['a', 'b'] present in arrA but not in arrB</span>

<span class="nx">difference</span><span class="p">(</span><span class="nx">arrB</span><span class="p">,</span> <span class="nx">arrA</span><span class="p">);</span>
<span class="c1">// Returns: ['e', 'f'] present in arrB but not in arrA</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>I used it to compare old and new categories to know which categories got removed and which were added.</p>

<p>So to update product I created this route.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="nx">router</span><span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="dl">'</span><span class="s1">/:id</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">_id</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">product</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">newCategories</span> <span class="o">=</span> <span class="nx">product</span><span class="p">.</span><span class="nx">categories</span> <span class="o">||</span> <span class="p">[];</span>

  <span class="kd">const</span> <span class="nx">oldProduct</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Product</span><span class="p">.</span><span class="nx">findOne</span><span class="p">({</span> <span class="nx">_id</span> <span class="p">});</span>
  <span class="kd">const</span> <span class="nx">oldCategories</span> <span class="o">=</span> <span class="nx">oldProduct</span><span class="p">.</span><span class="nx">categories</span><span class="p">;</span>

  <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">oldProduct</span><span class="p">,</span> <span class="nx">product</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">newProduct</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">oldProduct</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>

  <span class="kd">const</span> <span class="nx">added</span> <span class="o">=</span> <span class="nx">difference</span><span class="p">(</span><span class="nx">newCategories</span><span class="p">,</span> <span class="nx">oldCategories</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">removed</span> <span class="o">=</span> <span class="nx">difference</span><span class="p">(</span><span class="nx">oldCategories</span><span class="p">,</span> <span class="nx">newCategories</span><span class="p">);</span>
  <span class="k">await</span> <span class="nx">Category</span><span class="p">.</span><span class="nx">updateMany</span><span class="p">({</span> <span class="dl">'</span><span class="s1">_id</span><span class="dl">'</span><span class="p">:</span> <span class="nx">added</span> <span class="p">},</span> <span class="p">{</span> <span class="na">$addToSet</span><span class="p">:</span> <span class="p">{</span> <span class="na">products</span><span class="p">:</span> <span class="nx">foundProduct</span><span class="p">.</span><span class="nx">_id</span> <span class="p">}</span> <span class="p">});</span>
  <span class="k">await</span> <span class="nx">Category</span><span class="p">.</span><span class="nx">updateMany</span><span class="p">({</span> <span class="dl">'</span><span class="s1">_id</span><span class="dl">'</span><span class="p">:</span> <span class="nx">removed</span> <span class="p">},</span> <span class="p">{</span> <span class="na">$pull</span><span class="p">:</span> <span class="p">{</span> <span class="na">products</span><span class="p">:</span> <span class="nx">foundProduct</span><span class="p">.</span><span class="nx">_id</span> <span class="p">}</span> <span class="p">});</span>

  <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">newProduct</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Here first I took id from <code>req.params.id</code> and product update date from <code>req.body</code> then I took <code>newCategories</code> from product.</p>

<p>After that I find the product by id and took <code>oldCategories</code> from them so I can compare them with new categories and determine which categories were added and which were removed.<br>
Then I assigned all properties from the product to the old product and save it. </p>

<p>After updating the product I used <code>difference()</code> function with <code>newCategories</code> and <code>oldCategories</code> to get the categories those were added and those were removed and then I used two <code>updateMany</code> operation on categories to add this product to <code>added</code> categories and remove it from <code>removed</code> categories.</p>

<blockquote>
<h3>
  <a name="categories-route" href="https://dev.to/nehalahmadkhan/many-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm#categories-route" class="anchor">
  </a>
  Categories Route
</h3>

<p>categories routes were the same as product routes I just used category in place of product and vice-versa.</p>
</blockquote>


          </div>

        </div>
          <section id="comments" data-updated-at="2021-06-29 04:29:00 UTC" class="text-padding mb-4 border-t-1 border-0 border-solid border-base-10">
      <header class="relative flex justify-between items-center mb-6">
        <h2 class="crayons-subtitle-1">Discussion <span class="js-comments-count" data-comments-count="0">(0)</span></h2>
        <div id="comment-subscription" class="print-hidden"><div class="static"><div role="presentation" class="crayons-btn-group"><button class="crayons-btn crayons-btn--outlined" type="button">Subscribe</button></div></div>
          
        </div>
      </header>

      <div id="comments-container" data-testid="comments-container" data-commentable-id="651645" data-commentable-type="Article" data-has-recent-comment-activity="false">

          <div id="response-templates-data" class="hidden"></div>
<script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/runtime_validateFileInputs-af5508ee1cbbd82c3c22.js.download" defer="defer"></script>
<script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/validateFileInputs-1837b8049bb6436003dc.chunk.js.download" defer="defer"></script>
<script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/runtime_responseTemplates-e404af38a1274e3c6209.js.download" defer="defer"></script>
<script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/responseTemplates-d4ee1c5c5adfae64b454.chunk.js.download" defer="defer"></script>


<form class="comment-form print-hidden" id="new_comment" action="https://dev.to/comments" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="âœ“">

  <input type="hidden" name="authenticity_token" value="NOTHING" id="new_comment_authenticity_token">

    <input value="651645" type="hidden" name="comment[commentable_id]" id="comment_commentable_id">
    <input value="Article" type="hidden" name="comment[commentable_type]" id="comment_commentable_type">
    

  <span class="crayons-avatar m:crayons-avatar--l mr-2 shrink-0">
    <img src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/devlogo-pwa-512.webp" width="32" height="32" alt="pic" class="crayons-avatar__image overflow-hidden" id="comment-primary-user-profile--avatar" loading="lazy">
  </span>
  <div class="comment-form__inner">
    <div class="comment-form__field">
      <textarea placeholder="Add to the discussion" onfocus="handleFocus(event)" onkeyup="handleKeyUp(event)" onkeydown="handleKeyDown(event)" oninput="handleChange(event)" id="text-area" required="required" class="crayons-textfield comment-textarea crayons-textfield--ghost" aria-label="Add a comment to the discussion" name="comment[body_markdown]"></textarea>
      <div class="comment-form__toolbar">
        <div class="editor-image-upload">
          <input type="file" id="image-upload-main" name="file" accept="image/*" style="display:none">
          <button type="button" class="crayons-btn crayons-btn--s crayons-btn--icon-left crayons-btn--ghost-dimmed" onclick="handleImageUpload(event,&#39;main&#39;)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" role="img" class="crayons-icon">
    <path d="M20 5H4v14l9.292-9.294a1 1 0 011.414 0L20 15.01V5zM2 3.993A1 1 0 012.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 01-.992.993H2.992A.993.993 0 012 20.007V3.993zM8 11a2 2 0 110-4 2 2 0 010 4z"></path>
</svg>

            <span class="hidden s:inline-block" aria-hidden="false">Upload image</span>
          </button>
          <label class="image-upload-file-label" id="image-upload-file-label-main"></label>
          <input type="submit" id="image-upload-submit-main" value="Upload" style="display:none">
          <input class="hidden" id="uploaded-image-main">
        </div>

        <button type="button" class="crayons-btn crayons-btn--s crayons-btn--icon-left crayons-btn--ghost-dimmed response-templates-button" title="Use a response template" data-has-listener="true" data-form-id="new_comment">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" role="img" class="crayons-icon">
    <path d="M3 18.5V5a3 3 0 013-3h14a1 1 0 011 1v18a1 1 0 01-1 1H6.5A3.5 3.5 0 013 18.5zM19 20v-3H6.5a1.5 1.5 0 100 3H19zM10 4H6a1 1 0 00-1 1v10.337A3.485 3.485 0 016.5 15H19V4h-2v8l-3.5-2-3.5 2V4z"></path>
</svg>

          <span class="hidden s:inline-block" aria-hidden="false">Templates</span>
        </button>

        <a href="https://dev.to/p/editor_guide" class="crayons-btn crayons-btn--ghost-dimmed crayons-btn--icon crayons-btn--s ml-auto" target="_blank" rel="noopener" title="Markdown Guide">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" role="img" aria-labelledby="a3ekz0h78xam8nos2blogmxw3kg5fbc3" class="crayons-icon"><title id="a3ekz0h78xam8nos2blogmxw3kg5fbc3">Editor guide</title>
    <path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 100-16 8 8 0 000 16zM11 7h2v2h-2V7zm0 4h2v6h-2v-6z"></path>
</svg>

        </a>
      </div>
    </div>

    <div class="response-templates-container crayons-card crayons-card--secondary p-4 mb-4 comment-form__templates fs-base hidden">
      <header>
        <button type="button" class="personal-template-button active" data-target-type="personal" data-form-id="new_comment">Personal</button>
        <button type="button" class="moderator-template-button hidden" data-target-type="moderator" data-form-id="new_comment">Moderator</button>
      </header>

      <img class="loading-img hidden" src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/loading-ellipsis-b714cf681fd66c853ff6f03dd161b77aa3c80e03cdc06f478b695f42770421e9.svg" alt="loading" loading="lazy">

      <div class="personal-responses-container">
      </div>
      <div class="moderator-responses-container hidden">
      </div>

      <a target="_blank" rel="noopener nofollow" href="https://dev.to/settings/response-templates">
        Create template
      </a>
      <p>Templates let you quickly answer FAQs or store snippets for re-use.</p>
    </div>

    <div class="comment-form__preview text-styles text-styles--secondary" id="preview-div"></div>

    <div class="comment-form__buttons mb-4">
      <button type="submit" class="crayons-btn mr-2 js-btn-enable" onclick="validateField(event)" disabled="">Submit</button>
      <button type="button" class="preview-toggle crayons-btn crayons-btn--secondary comment-action-preview js-btn-enable mr-2" disabled="">Preview</button>
      <a href="https://dev.to/404.html" class="dismiss-edit-comment crayons-btn crayons-btn--ghost js-btn-dismiss hidden">Dismiss</a>
    </div>
  </div>

  <div class="code-of-conduct" id="toggle-code-of-conduct-checkbox"></div>
</form>


        <div class="comments" id="comment-trees-container">
        </div>
      </div>

      <div class="align-center">


  <nav class="fs-s align-center block" aria-label="Conduct controls">
  <a href="https://dev.to/code-of-conduct" class="crayons-link crayons-link--secondary">Code of Conduct</a>
  <span class="opacity-25 px-2" role="presentation">â€¢</span>
  <a href="https://dev.to/report-abuse" class="crayons-link crayons-link--secondary">Report abuse</a>
</nav>

</div>

  </section>


      </article>

          <section class="crayons-card crayons-card--secondary text-padding mb-4 print-hidden" id="bottom-content-read-next">
    <h2 class="crayons-subtitle-1">Read next</h2>
      <a href="https://dev.to/riyanegi/getting-started-with-typescript-with-react-hooks-2021-5cfd" data-preload-image="https://res.cloudinary.com/practicaldev/image/fetch/s--w2IiZCYn--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/h81icix026ga3zzgtozm.png" class="crayons-link mt-6 block">
        <div class="flex items-center">
          <span class="crayons-avatar crayons-avatar--xl m:crayons-avatar--2xl mr-4 shrink-0">
            <img loading="lazy" alt="riyanegi profile image" class="crayons-avatar__image" width="100" height="100" src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/a408c935-e9b2-452e-84cb-70f36aad9aa9.webp">
          </span>
          <div>
            <h3 class="fs-xl mb-0 lh-tight">Getting started with Typescript with React Hooks [2021]</h3>
            <p class="opacity-75 pt-1">
              RiyaNegi - <time datetime="2021-06-23T17:26:43Z">Jun 23</time>
            </p>
          </div>
        </div>
      </a>
      <a href="https://dev.to/ben/png-files-can-be-animated-via-network-latency-2oeh" data-preload-image="https://res.cloudinary.com/practicaldev/image/fetch/s--JnGL9m_S--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/gofnh7e1bg65ktw12zrf.png" class="crayons-link mt-6 block">
        <div class="flex items-center">
          <span class="crayons-avatar crayons-avatar--xl m:crayons-avatar--2xl mr-4 shrink-0">
            <img loading="lazy" alt="ben profile image" class="crayons-avatar__image" width="100" height="100" src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/f451a206-11c8-4e3d-8936-143d0a7e65bb.webp">
          </span>
          <div>
            <h3 class="fs-xl mb-0 lh-tight">PNG files can be animated via network latency</h3>
            <p class="opacity-75 pt-1">
              Ben Halpern - <time datetime="2021-06-23T21:07:01Z">Jun 23</time>
            </p>
          </div>
        </div>
      </a>
      <a href="https://dev.to/actitime/how-to-prevent-or-recover-from-developer-burnout-3g5f" data-preload-image="https://res.cloudinary.com/practicaldev/image/fetch/s--7SgTjId1--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/nihgwg4vklt5m7npglgy.jpg" class="crayons-link mt-6 block">
        <div class="flex items-center">
          <span class="crayons-avatar crayons-avatar--xl m:crayons-avatar--2xl mr-4 shrink-0">
            <img loading="lazy" alt="coffeestasia profile image" class="crayons-avatar__image" width="100" height="100" src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/9bf1251a-c9ff-460b-a2b1-3fd4985d7d04.webp">
          </span>
          <div>
            <h3 class="fs-xl mb-0 lh-tight">How to Prevent or Recover from Developer Burnout</h3>
            <p class="opacity-75 pt-1">
              Anastasia ðŸ„ðŸ»â€â™€ï¸ - <time datetime="2021-06-20T07:38:28Z">Jun 20</time>
            </p>
          </div>
        </div>
      </a>
      <a href="https://dev.to/cglikpo/getting-started-with-ecmascript6-d0i" data-preload-image="https://res.cloudinary.com/practicaldev/image/fetch/s--nn6yVJa7--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/wqexzhnwffcl4167u91m.jpeg" class="crayons-link mt-6 block">
        <div class="flex items-center">
          <span class="crayons-avatar crayons-avatar--xl m:crayons-avatar--2xl mr-4 shrink-0">
            <img loading="lazy" alt="cglikpo profile image" class="crayons-avatar__image" width="100" height="100" src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/d7cc30de-4fdb-44d0-9644-545bad8b67f6.webp">
          </span>
          <div>
            <h3 class="fs-xl mb-0 lh-tight">Getting started with ECMAScript6</h3>
            <p class="opacity-75 pt-1">
              Christopher Glikpo - <time datetime="2021-06-25T19:48:38Z">Jun 25</time>
            </p>
          </div>
        </div>
      </a>
  </section>

    </div>
  </main>

  <aside class="crayons-layout__sidebar-right" aria-label="Right sidebar navigation">
      <div class="crayons-article-sticky grid gap-4 break-word" id="article-show-primary-sticky-nav">

  <div class="crayons-card crayons-card--secondary branded-7 p-4 pt-0 gap-4 grid" style="border-top-color: #000000;">
    <div class="-mt-4">
  <a href="https://dev.to/nehalahmadkhan" class="flex">
    <span class="crayons-avatar crayons-avatar--xl  mr-2 shrink-0">
      <img src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/dbf4dd6f-adbe-470e-a8ce-7392a1c7a601(1).webp" class="crayons-avatar__image" alt="" loading="lazy">
    </span>
    <span class="crayons-link crayons-subtitle-2 mt-5">Nehal Ahmad</span>
  </a>
</div>

<div class="print-hidden">
  <button class="crayons-btn follow-action-button w-100 whitespace-nowrap showing" data-info="{&quot;id&quot;:587755,&quot;className&quot;:&quot;User&quot;,&quot;style&quot;:&quot;&quot;}" data-follow-action-button="true">Follow</button></div>

  <div class="user-metadata-details">
    <ul class="user-metadata-details-inner">
        <li>
          <div class="key">
            Location
          </div>
          <div class="value">
            Bilgram Hardoi UP India
          </div>
        </li>
    <li>
      <div class="key">
        Joined
      </div>
      <div class="value">
        <time datetime="2021-02-28T09:46:35Z" class="date">Feb 28, 2021</time>
      </div>
    </li>
  </ul>
</div>

  </div>

      <div class="crayons-card crayons-card--secondary">
        <header class="crayons-card__header">
          <h3 class="crayons-subtitle-2">
            More from <a href="https://dev.to/nehalahmadkhan">Nehal Ahmad</a>
          </h3>
        </header>
        <div>
            <a class="crayons-link crayons-link--contentful" href="https://dev.to/nehalahmadkhan/how-to-make-footer-stick-to-bottom-of-web-page-3i14">
              How to make footer stick at the bottom of web page.
              <div class="crayons-link__secondary -ml-1">
                  <span class="crayons-tag"><span class="crayons-tag__prefix">#</span>html</span>
                  <span class="crayons-tag"><span class="crayons-tag__prefix">#</span>css</span>
                  <span class="crayons-tag"><span class="crayons-tag__prefix">#</span>webdev</span>
              </div>
            </a>
        </div>
      </div>
</div>

  </aside>
</div>


<div class="mod-actions-menu print-hidden"></div>
<div id="mod-actions-menu-btn-area" class="print-hidden"></div>
<div data-testid="flag-user-modal-container" class="flag-user-modal-container hidden"></div>

<div class="fullscreen-code js-fullscreen-code"></div>

  <script async="">
    var waitingOnPodcast = setInterval(function() {
  if (typeof initializePodcastPlayback !== 'undefined') {
    initializePodcastPlayback();
    clearInterval(waitingOnPodcast);
  }
}, 1);

    if (document.head.querySelector('meta[name="user-signed-in"][content="true"]')) {
  function displayPollResults(json) {
    var totalVotes = json.voting_data.votes_count;
    json.voting_data.votes_distribution.forEach(function(point) {
      var pollOptionItem = document.getElementById('poll_option_list_item_'+point[0]);
      var optionText = document.getElementById('poll_option_label_'+point[0]).textContent;
      if (json.user_vote_poll_option_id === point[0]) {
        var votedClass = 'optionvotedfor'
      } else {
        var votedClass = 'optionnotvotedfor'
      }
      if (totalVotes === 0) {
        var percent = 0;
      } else {
        var percent = (point[1]/totalVotes)*100;
      }
      var roundedPercent = Math.round( percent * 10 ) / 10
      var percentFromRight = (100-roundedPercent)
      var html = '<span><span class="ltag-votepercent ltag-'+votedClass+'" style="right:'+percentFromRight+'%"></span>        <span class="ltag-votepercenttext">'+optionText+' â€” '+roundedPercent+'%</span></span>';
      pollOptionItem.innerHTML = html;
      pollOptionItem.classList.add('already-voted')
      document.getElementById('showmethemoney-'+json.poll_id).innerHTML = '<span class="ltag-voting-results-count">'+totalVotes+' total votes</span>';
    })
  }

  var polls = document.getElementsByClassName('ltag-poll');
  for (var i = 0; i < polls.length; i += 1) {
    var poll = polls[i]
    var pollId = poll.dataset.pollId
    window.fetch('/poll_votes/'+pollId)
    .then(function(response){
      response.json().then(
        function(json) {
          if (json.voted) {
            displayPollResults(json)
          } else {
            var els = document.getElementById('poll_'+json.poll_id).getElementsByClassName('ltag-polloption');

            for (i = 0; i < els.length; i += 1) {
              els[i].addEventListener('click', function(e) {
                var tokenMeta = document.querySelector("meta[name='csrf-token']")
                if (!tokenMeta) {
                  alert('Whoops. There was an error. Your vote was not counted. Try refreshing the page.')
                  return
                }
                var csrfToken = tokenMeta.getAttribute('content')
                var optionId = e.target.dataset.optionId
                window.fetch('/poll_votes', {
                  method: 'POST',
                  headers: {
                    'X-CSRF-Token': csrfToken,
                    'Content-Type': 'application/json',
                  },
                  body: JSON.stringify({poll_vote: { poll_option_id: optionId } }),
                  credentials: 'same-origin',
                }).then(function(response){
                  response.json().then(function(j){displayPollResults(j)})
                })
              });
            }

            document.getElementById('showmethemoney-'+json.poll_id).addEventListener('click', function() {
              pollId = this.dataset.pollId
              window.fetch('/poll_skips', {
                method: 'POST',
                headers: {
                  'X-CSRF-Token': csrfToken,
                  'Content-Type': 'application/json',
                },
                body: JSON.stringify({poll_skip: {poll_id: pollId }}),
                credentials: 'same-origin',
              }).then(function(response){
                response.json().then(function(j){displayPollResults(j)})
              })
            });
          }
        }
      )
    })
  }
} else {
    var els = document.getElementsByClassName('ltag-poll')
    for (i = 0; i < els.length; i += 1) {
      els[i].onclick = function(e) {
        if (typeof showLoginModal !== "undefined") {
          showLoginModal();
        }
      }
    }
}

    function activateRunkitTags() {
  if (!areAnyRunkitTagsPresent())
    return

  var checkRunkit = setInterval(function() {
    try {
      dynamicallyLoadRunkitLibrary()

      if (typeof(RunKit) === 'undefined') {
        return
      }

      replaceTagContentsWithRunkitWidget()
      clearInterval(checkRunkit);
    } catch(e) {
      console.error(e);
      clearInterval(checkRunkit);
    }
  }, 200);
}

function isRunkitTagAlreadyActive(runkitTag) {
  return runkitTag.querySelector("iframe") !== null;
};

function areAnyRunkitTagsPresent() {
  var presentRunkitTags = document.getElementsByClassName("runkit-element");

  return presentRunkitTags.length > 0
}

function replaceTagContentsWithRunkitWidget() {
  var targets = document.getElementsByClassName("runkit-element");
  for (var i = 0; i < targets.length; i++) {
    if (isRunkitTagAlreadyActive(targets[i])) {
      continue;
    }

    var wrapperContent = targets[i].textContent;
    if (/^(<iframe src)/.test(wrapperContent) === false) {
      if (targets[i].children.length > 0) {
        var preamble = targets[i].children[0].textContent;
        var content = targets[i].children[1].textContent;
        targets[i].innerHTML = "";
        var notebook = RunKit.createNotebook({
          element: targets[i],
          source: content,
          preamble: preamble
        });
      }
    }
  }
};

function dynamicallyLoadRunkitLibrary() {
  if (typeof(dynamicallyLoadScript) === "undefined")
    return

  dynamicallyLoadScript("//embed.runkit.com")
}

activateRunkitTags();

    var videoPreviews = document.getElementsByClassName("ltag__twitter-tweet__media__video-wrapper");
[].forEach.call(videoPreviews, function(el) {
  el.onclick = function(e) {
    var divHeight = el.offsetHeight;
    el.style.maxHeight = divHeight + "px";
    el.getElementsByClassName("ltag__twitter-tweet__media--video-preview")[0].style.display = "none";
    el.getElementsByClassName("ltag__twitter-tweet__video")[0].style.display = "block";
    el.getElementsByTagName("video")[0].play();
  }
});
var tweets = document.getElementsByClassName("ltag__twitter-tweet__main");
[].forEach.call(tweets, function(tweet){
  tweet.onclick = function(e) {
    if (e.target.nodeName == "A" || e.target.parentElement.nodeName == "A") {
      return;
    }
    window.open(tweet.dataset.url,"_blank");
  }
});

    var subscribeBtn = document.getElementById('subscribe-btn');

function isUserSignedIn() {
  return document.head.querySelector('meta[name="user-signed-in"][content="true"]') !== null;
}

// Hiding/showing elements
// If clearSubscribeButton is false, we will not clear out the subscription-signed-in area,
// which will allow users to re-submit their subscription if they see any error messages.
// ***************************************
function clearSubscriptionArea({ clearSubscribeButton = true } = {}) {
  if (!clearSubscribeButton) {
    // Allow users to try submitting again if they see an error.
    hideSubscriptionSignedIn();
  }

  const subscriptionSignedOut = document.getElementById('subscription-signed-out');
  if (subscriptionSignedOut) {
    subscriptionSignedOut.classList.add("hidden");
  }

  hideResponseMessage();

  const subscriberAppleAuth = document.getElementById('subscriber-apple-auth');
  if (subscriberAppleAuth) {
    subscriberAppleAuth.classList.add("hidden");
  }

  hideConfirmationModal();
}

// Hides the response message (which displays success/error messages) if it exists.
// ***************************************
function hideResponseMessage() {
  const responseMessage = document.getElementById('response-message');
  if (responseMessage) {
    responseMessage.classList.add("hidden");
  }
}

function showSignedIn() {
  clearSubscriptionArea();
  const subscriptionSignedIn = document.getElementById('subscription-signed-in');
  if (subscriptionSignedIn) {
    subscriptionSignedIn.classList.remove("hidden");
  }

  const profileImages = document.getElementById('profile-images');
  if (profileImages) {
    profileImages.classList.remove("signed-out");
    profileImages.classList.add("signed-in");
  }
}

function showSignedOut() {
  clearSubscriptionArea();

  const subscriptionSignedOut = document.getElementById('subscription-signed-out');
  if (subscriptionSignedOut) {
    subscriptionSignedOut.classList.remove("hidden");
  }

  const profileImages = document.getElementById('profile-images');
  if (profileImages) {
    profileImages.classList.remove("signed-in");
    profileImages.classList.add("signed-out");
  }

  const subscriberProfileImage = document.getElementsByClassName('ltag__user-subscription-tag__subscriber-profile-image')[0];
  if (subscriberProfileImage) {
    subscriberProfileImage.classList.add("hidden");
  }
}

function showResponseMessage(noticeType, msg) {
  clearSubscriptionArea(clearSubscribeButton = false);

  const responseMessage = document.getElementById('response-message');
  if (responseMessage) {
    responseMessage.classList.remove("hidden");
    responseMessage.classList.add(`crayons-notice--${noticeType}`);
    responseMessage.textContent = msg;

    if (noticeType === 'danger') {
      // Allow users to try resubscribing if they see an error message.
      subscribeBtn.textContent = "Submit";
      subscribeBtn.disabled = false;
    }
  }
}

function showAppleAuthMessage() {
  clearSubscriptionArea();
  const subscriber = userData();
  if (subscriber) {
    updateProfileImages('.ltag__user-subscription-tag__subscriber-profile-image', subscriber);
  }

  const subscriberAppleAuth = document.getElementById('subscriber-apple-auth');
  if (subscriberAppleAuth) {
    subscriberAppleAuth.classList.remove("hidden");
  }
}

function showSubscribed() {
  hideSubscriptionSignedIn();
  updateSubscriberData();
  const authorUsername = document.getElementById('user-subscription-tag')?.dataset.authorUsername;
  const alreadySubscribedMsg = `You are already subscribed.`;
  showResponseMessage('success', alreadySubscribedMsg);
}

function showConfirmationModal() {
  const confirmationModal = document.getElementById('user-subscription-confirmation-modal');
  if (confirmationModal) {
    confirmationModal.classList.remove("hidden");
  }
}

function hideConfirmationModal() {
  const confirmationModal = document.getElementById('user-subscription-confirmation-modal');
  if (confirmationModal) {
    confirmationModal.classList.add("hidden");
  }
}

// Updating DOM elements
// ***************************************
function updateSubscriberData() {
  const subscriber = userData();
  if (subscriber.email) {
    updateElementsTextContent('.ltag__user-subscription-tag__subscriber-email', subscriber.email);
  }

  updateProfileImages('.ltag__user-subscription-tag__subscriber-profile-image', subscriber);
}

function updateElementsTextContent(identifier, value) {
  const elements = document.querySelectorAll(identifier);

  elements.forEach(function(element) {
    element.textContent = value;
  });
}

function updateProfileImages(identifier, subscriber) {
  const profileImages = document.querySelectorAll(`img${identifier}`);

  profileImages.forEach(function(profileImage) {
    profileImage.src = subscriber.profile_image_90;
    profileImage.alt = `${subscriber.username} profile image`;
  });
}

function hideSubscriptionSignedIn() {
  const subscriptionSignedIn = document.getElementById('subscription-signed-in');
  if (subscriptionSignedIn) {
    subscriptionSignedIn.classList.add("hidden");
  }
}

// Adding event listeners for 'click'
// ***************************************
function addSignInClickHandler() {
  const signInBtn = document.getElementById('sign-in-btn');
  if (signInBtn) {
    signInBtn.addEventListener('click', function(e) {
      if (typeof showLoginModal !== 'undefined') {
        showLoginModal();
      }
    });
  }
}

function addConfirmationModalClickHandlers() {
  if (subscribeBtn) {
    subscribeBtn.addEventListener('click', function(e) {
      showConfirmationModal();
    });
  }

  const cancelBtn = document.getElementById('cancel-btn');
  if (cancelBtn) {
    cancelBtn.addEventListener('click', function(e) {
      hideConfirmationModal();
    });
  }

  const closeConfirmationModal = document.getElementById('close-confirmation-modal');
  if (closeConfirmationModal) {
    closeConfirmationModal.addEventListener('click', function(e) {
      hideConfirmationModal();
    });
  }

  const confirmationModal = document.getElementById('confirmation-btn')
  if (confirmationModal) {
    confirmationModal.addEventListener('click', function(e) {
      handleSubscription();
    });
  }
}

// API calls
// ***************************************
function submitSubscription() {
  // Hide any error messages previously rendered.
  hideResponseMessage();

  subscribeBtn.textContent = "Submitting...";
  subscribeBtn.disabled = true;

  const headers = {
    Accept: 'application/json',
    'X-CSRF-Token': window.csrfToken,
    'Content-Type': 'application/json',
  }

  const articleBody = document.getElementById('article-body');
  const articleId = (articleBody ? articleBody.dataset.articleId : null);

  const subscriber = userData();
  const body = JSON.stringify(
      {
        user_subscription: {
          source_type: 'Article',
          source_id: articleId,
          subscriber_email: subscriber.email
        }
      }
    )

  return fetch('/user_subscriptions', {
    method: 'POST',
    headers: headers,
    credentials: 'same-origin',
    body: body,
  }).then(function(response) {
    return response.json();
  });
}

function fetchIsSubscribed() {
  const articleBody = document.getElementById('article-body');
  const articleId = (articleBody ? articleBody.dataset.articleId : null);

  const params = new URLSearchParams({
    source_type: 'Article',
    source_id: articleId
  }).toString();

  const headers = {
    Accept: 'application/json',
    'X-CSRF-Token': window.csrfToken,
    'Content-Type': 'application/json',
  }

  return fetch(`/user_subscriptions/subscribed?${params}`, {
    method: 'GET',
    headers: headers,
    credentials: 'same-origin',
  }).then(function(response) {
    if (response.ok) {
      return response.json();
    } else {
      console.error(`Base data error: ${response.status} - ${response.statusText}`);
    }
  });
}

// Handle API responses
// ***************************************
function handleSubscription() {
  hideConfirmationModal(); // Close the modal once the user has confirmed.

  submitSubscription().then(function(response) {
    if (response.success) {
      const userSubscriptionTag = document.getElementById('user-subscription-tag');
      const authorUsername = (userSubscriptionTag ? userSubscriptionTag.dataset.authorUsername : null);
      const successMsg = `You are now subscribed and may receive emails from ${authorUsername}`;
      showResponseMessage('success', successMsg);
      hideSubscriptionSignedIn();
    } else {
      showResponseMessage('danger', response.error);
    }
  });
}

function checkIfSubscribed() {
  fetchIsSubscribed().then(function(response) {
    const subscriber = userData();
    const isSubscriberAuthedWithApple = (subscriber.email ? subscriber.email.endsWith('@privaterelay.appleid.com') : false);

    if (response.is_subscribed) {
      showSubscribed();
    } else if (isSubscriberAuthedWithApple) {
      showAppleAuthMessage();
    } else {
      updateSubscriberData();
    }
  });
}

// We load this JS on every Article. This is to only run it on Articles
// where the UserSubscription liquid tag is present
if (document.getElementById('user-subscription-tag')) {
  // The markup defaults to signed out UX
  if (isUserSignedIn()) {
    showSignedIn();
    addConfirmationModalClickHandlers();

    // We need access to some DOM elements (i.e. csrf token, article id, userData, etc.)
    document.addEventListener('DOMContentLoaded', function() {
      checkIfSubscribed();
    });
  } else {
    showSignedOut();
    addSignInClickHandler();
  }
}

  </script>

    <div class="Browser-iOS-only">
      <div class="runtime-banner">
        <a href="https://udl.forem.com/?r=https%3A%2F%2Fdev.to%2Fr%2Fmobile%3Fdeep_link%3D%2Fnehalahmadkhan%2Fmany-to-many-relationship-in-mongodb-nodejs-express-mongoose-4djm" target="_blank" class="flex items-center flex-1">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 31" fill="none" aria-hidden="true" class="crayons-icon crayons-icon--default">
    <path d="M16.44 23.363a.5.5 0 0 1 .59.286c.712 1.893 2.765 2.915 4.713 2.393 1.938-.553 3.206-2.465 2.876-4.46a.474.474 0 0 1 .368-.543l1.628-.437a.508.508 0 0 1 .607.35l.008.032c.642 3.416-1.444 6.743-4.778 7.705-3.352.898-6.813-.909-7.933-4.196a.488.488 0 0 1 .31-.63l.032-.009 1.579-.491z" fill="#E9F0E8"></path>
    <path d="M12.828 11.415a.5.5 0 0 1-.59-.287c-.713-1.893-2.766-2.915-4.713-2.393-1.971.562-3.206 2.465-2.877 4.461a.474.474 0 0 1-.367.543l-1.628.436a.508.508 0 0 1-.607-.35l-.009-.032c-.642-3.416 1.444-6.742 4.779-7.704 3.352-.898 6.812.908 7.933 4.196a.488.488 0 0 1-.31.63l-.032.008-1.58.492z" fill="#4CFCA7"></path>
    <path d="m22.142 8.509-1.691.453a.508.508 0 0 1-.607-.35l-.692-2.582a.508.508 0 0 1 .35-.607l1.724-.462a.508.508 0 0 0 .35-.606l-.435-1.626a.486.486 0 0 0-.607-.35l-4.269 1.178a.508.508 0 0 0-.35.606l.563 2.105.692 2.582.692 2.582.026.096L19.81 18.7c.068.255.32.427.575.359l1.596-.428a.508.508 0 0 0 .35-.607l-1.597-5.961c-.051-.192.042-.353.234-.405l1.884-.504a.508.508 0 0 0 .35-.607l-.435-1.626c-.086-.319-.37-.482-.625-.413zm2.155-.133a.526.526 0 0 1 .255-.581c.746-.405 1.157-1.301.934-2.13-.222-.83-.993-1.408-1.834-1.354a.463.463 0 0 1-.502-.344l-.436-1.626c-.068-.255.095-.538.342-.638l.064-.017a4.412 4.412 0 0 1 4.92 3.295c.59 2.2-.511 4.476-2.605 5.345a.513.513 0 0 1-.654-.27l-.017-.063-.467-1.617z" fill="#FBC1F5"></path>
</svg>

          <div class="flex flex-col pl-3">
            <span class="">Forem</span>
            <span class="">Open with the Forem app</span>
          </div>
        </a>
        <button type="button" class="runtime-banner__dismiss crayons-btn crayons-btn--ghost crayons-btn--icon crayons-btn--inverted crayons-btn--s">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" role="img" aria-labelledby="aohah9yqcwjkcrww33zvgov3z0c43rqr" class="crayons-icon"><title id="aohah9yqcwjkcrww33zvgov3z0c43rqr">Dismiss banner: Open with the Forem app</title><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636l4.95 4.95z"></path></svg>

        </button>
      </div>
    </div>
  </div>
</div>
    <footer class="crayons-footer print-hidden">
  <div id="footer-container" class="crayons-layout crayons-layout--limited-m crayons-footer__container">
    <p class="fs-s crayons-footer__description"><a href="https://dev.to/" aria-label="DEV Community Home" class="crayons-link">DEV Community</a> â€“ A constructive and inclusive social network for software developers. With you every step of your journey.</p>
    <div class="m:-mb-4 crayons-footer__description">
      <p class="fs-s">Built on <a href="https://www.forem.com/" class="crayons-link" target="_blank" rel="noopener">Forem</a> â€” the <a href="https://dev.to/t/opensource" target="_blank" rel="noopener" class="crayons-link">open source</a> software that powers <a href="https://dev.to/" target="_blank" rel="noopener" class="crayons-link">DEV</a> and other inclusive communities.</p>
      <p class="fs-s">Made with love and <a href="https://dev.to/t/rails" target="_blank" rel="noopener" class="crayons-link">Ruby on Rails</a>. DEV Community <span title="copyright">Â©</span> 2016 - 2021.</p>
      <div><a href="https://www.forem.com/" target="_blank" rel="noopener" class="inline-block mt-4"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" role="img" aria-labelledby="a9f15srr29sbk38425o1z9r893txh3ib" class="crayons-icon crayons-icon--default"><title id="a9f15srr29sbk38425o1z9r893txh3ib">Forem logo</title>
    <g clip-path="url(#clip0)" fill="#1AB3A6">
        <path d="M4.603 1.438a8.056 8.056 0 017.643 5.478 8.543 8.543 0 00-3.023 5.968H8.054C3.606 12.884 0 9.296 0 4.87V1.468a.03.03 0 01.03-.03h4.573zM23.97 6.515a.03.03 0 01.03.03v2.833c0 4.11-3.354 7.442-7.491 7.442h-2.881v5.726h-2.305V14.53l.022-1.145c.294-3.843 3.526-6.87 7.469-6.87h5.155z"></path>
    </g>
    <defs>
        <clippath id="clip0">
            <path fill="#fff" d="M0 0h24v24H0z"></path>
        </clippath>
    </defs>
</svg>
</a></div>
    </div>
  </div>
</footer>
<div id="snack-zone"><div class="hidden"></div></div>

    <div id="global-signup-modal" class="authentication-modal hidden">
<div class="authentication-modal__container">
  <figure class="authentication-modal__image-container">
    <img class="authentication-modal__image" src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/devlogo-pwa-512.png" alt="DEV Community" loading="lazy">
  </figure>
  <div class="authentication-modal__content">
    <p class="authentication-modal__description">
        We're a place where coders share, stay up-to-date and grow their careers.
    </p>
  </div>
  <div class="authentication-modal__actions">
    <a href="https://dev.to/enter" class="crayons-btn" aria-label="Log in" data-no-instant="">
      Log in
    </a>
    <a href="https://dev.to/enter?state=new-user" class="crayons-btn crayons-btn--ghost-brand" aria-label="Create new account" data-no-instant="">
      Create new account
    </a>
  </div>
  <footer class="authentication-modal__footer">
    <p class="authentication-modal__footer-label">
      We strive for transparency and don't collect excess data.
    </p>
  </footer>
  </div>
</div>

<script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/runtime_signupModalShortcuts-41a936326bbc126d35e8.js.download" defer="defer"></script>
<script src="./Many-to-Many relationship in MongoDB . Nodejs _ Express _ Mongoose - DEV Community_files/signupModalShortcuts-12fa2321091d18ab10b7.chunk.js.download" defer="defer"></script>

  
  
</body></html>